

  <!DOCTYPE html>
<html lang="en" itemscope itemtype="https://schema.org/Article">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Canonical URL - redirect www to non-www -->
  <link rel="canonical" href="https://pyshine.com/How-to-quickly-deploy-flask-application-for-video/">

  <!-- Pinterest & Google verification -->
  <meta name="p:domain_verify" content="fb68a8459fe32b8b072bcd5cc620d125"/>
  <meta name="google-site-verification" content="WAkFPi5cvufClnQetgIl0STmvvwHhVf8jfyENFWhsxU" />
  <meta name="google-site-verification" content="g2pFZlv-92XQD67BPgiVHsvZ4TZH13Ucvmmvvv36kU4" />

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>How to deploy Python video processing application on the‚Ä¶ | PyShine</title>
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="How to deploy Python video processing application on the‚Ä¶" />
<meta name="author" content="PyShine Team" />
<meta property="og:locale" content="en" />
<meta name="description" content="We will use Flask and OpenCv to change blur and brightness of the video and serve it on the network" />
<meta property="og:description" content="We will use Flask and OpenCv to change blur and brightness of the video and serve it on the network" />
<link rel="canonical" href="http://localhost:4000/How-to-quickly-deploy-flask-application-for-video/" />
<meta property="og:url" content="http://localhost:4000/How-to-quickly-deploy-flask-application-for-video/" />
<meta property="og:site_name" content="PyShine" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-12-03T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="How to deploy Python video processing application on the‚Ä¶" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"PyShine Team"},"dateModified":"2020-12-03T00:00:00+08:00","datePublished":"2020-12-03T00:00:00+08:00","description":"We will use Flask and OpenCv to change blur and brightness of the video and serve it on the network","headline":"How to deploy Python video processing application on the‚Ä¶","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/How-to-quickly-deploy-flask-application-for-video/"},"name":"{{ page.title escape }}","url":"http://localhost:4000/How-to-quickly-deploy-flask-application-for-video/"}</script>
<!-- End Jekyll SEO tag -->
  <!-- This will generate the canonical link automatically -->

  <script src="https://analytics.ahrefs.com/analytics.js" data-key="Im0K82YsmEDy08+6wyUIZA" async></script>

  <!-- Favicon & App Icons -->
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/img/icons/apple-touch-icon.png?v=qA3OXqyw77">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/icons/favicon-32x32.png?v=qA3OXqyw77">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/icons/favicon-16x16.png?v=qA3OXqyw77">
  <link rel="manifest" href="/assets/img/icons/manifest.json?v=qA3OXqyw77">
  <link rel="mask-icon" href="/assets/img/icons/safari-pinned-tab.svg?v=qA3OXqyw77" color="#5bbad5">
  <link rel="shortcut icon" href="/assets/img/icons/favicon.ico?v=qA3OXqyw77">
  <!--[if IE]><link rel="shortcut icon" href="/assets/img/icons/favicon.ico?v=qA3OXqyw77"><![endif]-->

  <!-- App & Theme Info -->
  <meta name="apple-mobile-web-app-title" content="Sleek">
  <meta name="application-name" content="Sleek">
  <meta name="msapplication-config" content="/assets/img/icons/browserconfig.xml?v=qA3OXqyw77">
  <meta name="theme-color" content="#ffffff">

  
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-TCVFBKF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'GTM-TCVFBKF');
</script>

  

  <!-- Critical CSS Inline -->
  <style class="inlineCSS">
    h1{color:#313237;margin-top:0;margin-bottom:.5rem}.dark-bg{background-color:#19d319}@media (min-width:48em){.post-card{width:48.4375%;margin-right:3.125%}.post-card:last-of-type,.post-card:nth-child(2n+2){margin-right:0}}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}header,nav,section{display:block}h1{font-size:2em;margin:.67em 0}figure,main{display:block}figure{margin:1em 40px}a{background-color:transparent;-webkit-text-decoration-skip:objects}img{border-style:none}svg:not(:root){overflow:hidden}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}body{-webkit-overflow-scrolling:touch}*,::after,::before{-webkit-box-sizing:inherit;box-sizing:inherit}.site{display:-webkit-box;display:-ms-flexbox;display:flex;min-height:100vh;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.site__content{-webkit-box-flex:1;-ms-flex:1;flex:1}img{max-width:100%;height:auto;width:auto;vertical-align:middle}figure{margin:0}body{background-color:#fff;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Hiragino Sans GB","Microsoft YaHei","WenQuanYi Micro Hei",sans-serif;font-size:1rem;line-height:1.5;color:#343851;-webkit-font-smoothing:antialiased;-webkit-text-size-adjust:100%}p{margin-top:0;margin-bottom:1.25rem}h1,h2{color:#313237;margin-top:0;margin-bottom:.5rem}a{color:#277cea;text-decoration:none;border-bottom:1px dashed #277cea}.blur{background:#fff;filter:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg"><filter id="filter"><feGaussianBlur stdDeviation="16" /></filter></svg>#filter');-webkit-filter:blur(1rem);filter:blur(1rem)}.container{padding:0 20px}@media (min-width:0){.container{max-width:auto;margin:0 auto}}@media (min-width:36em){.container{max-width:540px;margin:0 auto}}@media (min-width:48em){.container{max-width:720px;margin:0 auto}}@media (min-width:62em){.container{max-width:960px;margin:0 auto}}@media (min-width:75em){.container{max-width:1170px;margin:0 auto}}.header{background-color:#fff;color:#343851;position:absolute;z-index:4;width:100%;top:0;left:0;will-change:transform;-webkit-transform:translateY(0);transform:translateY(0)}.header a{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom:0}.header__logo{display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;overflow:hidden;padding:19px 0;margin-right:1.25rem;outline:0;border-bottom:0;color:#313237}.header__logo .header__logo--container{width:58px}.header__logo .header__logo--container .logo{fill:currentColor}.header__inner{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:3.75em;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.header__links{padding-bottom:.5rem;display:none;position:absolute;top:3.75em;left:0;width:100%;height:auto;background:#fff}.header__link{color:#343851;padding:.938rem 0;border-top:1px solid #ededed}.header__toggle{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:44px;height:100%;background-color:transparent;padding-left:1.25rem}.header__toggle span{display:block;position:relative;margin-top:4px;background-color:#343851;width:100%;height:2px;border-radius:1px}.header__toggle span:first-child{margin-top:0}@media (min-width:62em){.header__toggle{display:none;visibility:hidden}.header__links{position:static;padding:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;visibility:visible;width:auto;height:100%}.header__links-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;padding:0}.header__link{position:relative;padding:.938rem 1rem;border:0;height:100%}.header__link::after{content:"";display:block;position:absolute;left:0;bottom:0;height:3px;width:100%;-webkit-transform:scaleX(0);transform:scaleX(0);background:#277cea}}.post-card{display:block;position:relative;width:100%;min-height:250px;border-radius:4px;overflow:hidden;background-color:#fff;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.08);box-shadow:0 1px 3px rgba(0,0,0,.08);margin-bottom:2.25rem;border-bottom:0}@media (min-width:48em){.post-card{width:48.4375%;margin-right:3.125%}.post-card:nth-child(2n+2){margin-right:0}}@media (min-width:75em){.post-card{width:31.25%;margin-right:3.125%}.post-card:nth-child(2n+2){margin-right:3.125%}}.post-card__label{position:absolute;top:1.5rem;left:1.5rem;z-index:2}.post-card__thumb{margin:0;background:#fff;position:relative;overflow:hidden}.post-card__thumb::after{content:"";display:block;height:0;width:100%;padding-bottom:56.25%}.post-card__thumb>*{position:absolute;top:0;left:0;width:100%;height:100%;display:block}.post-card__inner{padding:1.875rem 1.25rem .625rem;color:#838c8d}.post-card__header{margin-bottom:.75rem}.post-card__header .post-card__meta{font-size:.875rem}.label{padding:0 10px;margin-bottom:1rem;display:inline-block;line-height:20px;font-size:.75rem;text-transform:uppercase;letter-spacing:1px;color:rgba(255,255,255,.8);border:2px solid rgba(255,255,255,.5);border-radius:100px}.hero{margin:3.75rem auto 0;min-height:16.25rem;width:100%;position:relative;background-color:#dde5ea;background-repeat:no-repeat;background-position:50%;background-size:cover}@media (min-width:62em){.hero{margin:0 auto;height:36em}}.hero::before{position:absolute;display:block;content:"";top:0;left:0;width:100%;height:100%;background:rgba(52,56,81,.8)}.hero__wrap{position:absolute;margin:auto;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);text-align:center;color:rgba(255,255,255,.8);width:100%;max-width:90%;z-index:1}.hero__wrap .hero__title{font-size:1.8em;color:#fff}.blog{background-color:#f9f9f9}.post-list{padding-top:2.5em;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-flex:1;-ms-flex:1 0 auto;flex:1 0 auto}@media (min-width:48em){.hero__wrap{max-width:40em}.hero__wrap .hero__title{padding:1rem 0;font-size:2.625em;line-height:3.125rem}.post-list{padding-top:5em}}
  </style>

  <!-- Main CSS -->
  <link rel="preload" href="/assets/css/main.css" as="style" onload="this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="/assets/css/main.css"></noscript>

  <script type="text/javascript">
    /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
(function(w){"use strict";if(!w.loadCSS){w.loadCSS=function(){}}
var rp=loadCSS.relpreload={};rp.support=(function(){var ret;try{ret=w.document.createElement("link").relList.supports("preload")}catch(e){ret=!1}
return function(){return ret}})();rp.bindMediaToggle=function(link){var finalMedia=link.media||"all";function enableStylesheet(){link.media=finalMedia}
if(link.addEventListener){link.addEventListener("load",enableStylesheet)}else if(link.attachEvent){link.attachEvent("onload",enableStylesheet)}
setTimeout(function(){link.rel="stylesheet";link.media="only x"});setTimeout(enableStylesheet,3000)};rp.poly=function(){if(rp.support()){return}
var links=w.document.getElementsByTagName("link");for(var i=0;i<links.length;i++){var link=links[i];if(link.rel==="preload"&&link.getAttribute("as")==="style"&&!link.getAttribute("data-loadcss")){link.setAttribute("data-loadcss",!0);rp.bindMediaToggle(link)}}};if(!rp.support()){rp.poly();var run=w.setInterval(rp.poly,500);if(w.addEventListener){w.addEventListener("load",function(){rp.poly();w.clearInterval(run)})}else if(w.attachEvent){w.attachEvent("onload",function(){rp.poly();w.clearInterval(run)})}}
if(typeof exports!=="undefined"){exports.loadCSS=loadCSS}
else{w.loadCSS=loadCSS}}(typeof global!=="undefined"?global:this))

  </script>

  <!-- MathJax -->
  <script type="text/javascript" id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>
</head>


  <body class="site" itemscope itemtype="https://schema.org/WebPage">

    
      <!-- Google Tag Manager (noscript) -->
      <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TCVFBKF"
                height="0" width="0" style="display:none;visibility:hidden"></iframe>
      </noscript>
      <!-- End Google Tag Manager -->
    

    <header class="header"
  itemscope
  itemtype="http://schema.org/SiteNavigationElement"
  aria-label="Main navigation">

  <div class="container">
    <div class="header__inner">

      <!-- Logo -->
      <a class="header__logo" href="/">
        <div class="header__logo--container">
          <?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
<g>
	<path d="M18.121,9.88l-7.832-7.836c-0.155-0.158-0.428-0.155-0.584,0L1.842,9.913c-0.262,0.263-0.073,0.705,0.292,0.705h2.069v7.042c0,0.227,0.187,0.414,0.414,0.414h3.725c0.228,0,0.414-0.188,0.414-0.414v-3.313h2.483v3.313c0,0.227,0.187,0.414,0.413,0.414h3.726c0.229,0,0.414-0.188,0.414-0.414v-7.042h2.068h0.004C18.331,10.617,18.389,10.146,18.121,9.88 M14.963,17.245h-2.896v-3.313c0-0.229-0.186-0.415-0.414-0.415H8.342c-0.228,0-0.414,0.187-0.414,0.415v3.313H5.032v-6.628h9.931V17.245z M3.133,9.79l6.864-6.868l6.867,6.868H3.133z"></path>

	
	
</g>
</svg>

        </div>
      </a>

      <!-- Navigation -->
      <nav class="header__links">
        <div class="header__links-wrapper">

          
            
              <a class="header__link" href="/">
                Home
              </a>
            
          
            
              <a class="header__link" href="/categories">
                Posts
              </a>
            
          
            

            <!-- Applications Dropdown -->
            <div class="header__dropdown">
              <span class="header__link header__dropdown-toggle">
                Applications
                <span class="dropdown-arrow">‚ñæ</span>
              </span>

              <div class="header__dropdown-menu">
                
                  <a class="header__dropdown-item"
                     href="/photo_correction">
                    Online Photo Correction
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/photo">
                    Online Passport Photo 20KB
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/finger.html">
                    Online Fingers Scanner
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/avatars">
                    Online Make Avatars
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/kanban/debounce.html">
                    Online Reminder App
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/converter.html">
                    Online Image Resize
                  </a>
                
              </div>
            </div>

            
          
            

            <!-- Applications Dropdown -->
            <div class="header__dropdown">
              <span class="header__link header__dropdown-toggle">
                Games
                <span class="dropdown-arrow">‚ñæ</span>
              </span>

              <div class="header__dropdown-menu">
                
                  <a class="header__dropdown-item"
                     href="/games/snake">
                    Snake Game
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/games/flappy-bird">
                    Flappy Bird
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/games/tetris">
                    Tetris
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/games/memory-match">
                    Memory Match
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/games/pong">
                    Pong
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/games/2048">
                    2048
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/games/battleship">
                    Battleship
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/games/go">
                    GO Game
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/games/chess">
                    Chess Game
                  </a>
                
              </div>
            </div>

            
          
            
              <a class="header__link" href="/about">
                About
              </a>
            
          
            
              <a class="header__link" href="/contact">
                Contact
              </a>
            
          
            
              <a class="header__link" href="/privacy">
                Privacy Policy
              </a>
            
          
            
              <a class="header__link" href="/disclaimer">
                Disclaimer
              </a>
            
          

        </div>
      </nav>

      <!-- Language Switcher -->
      

      <!-- Mobile Toggle -->
      <div class="header__toggle">
        <span></span><span></span><span></span>
      </div>

    </div>
  </div>

<style>
/* ==================================================
   üîí HEADER ‚Äî ALWAYS VISIBLE, FULL WIDTH COLOR
================================================== */
.header{
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;           /* full width */
  z-index: 10000;
  background: #FFFFFF;    /* uniform header background */
  box-shadow: 0 2px 12px rgba(0,0,0,.35);
  transform: none !important;
  transition: none !important;
}

/* Lock height to avoid reflow */
.header__inner{
  min-height: 72px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

/* Prevent content hiding under fixed header */
body{
  padding-top: 72px;
}

/* ===============================
   NAV BASE
=============================== */
.header__links-wrapper{
  display:flex;
  align-items:center;
  gap:1.5rem;
}

.header__link,
.header__dropdown-toggle{
  display:inline-flex;
  align-items:center;
  gap:6px;
  cursor:pointer;
  font-size:16px;
  font-weight:500;
  color:#000000;
}

/* ===============================
   DROPDOWN
=============================== */
.header__dropdown{
  position:relative;
}

.dropdown-arrow{
  font-size:1.4em;
  transition:transform .2s ease;
}

.header__dropdown:hover .dropdown-arrow{
  transform:rotate(180deg);
}

.header__dropdown-menu{
  position:absolute;
  top:100%;
  left:0;
  min-width:220px;
  background:#121212;
  border:1px solid #333;
  border-radius:10px;
  padding:6px 0;
  display:none;
  z-index:9999;
}

.header__dropdown:hover .header__dropdown-menu{
  display:block;
}

.header__dropdown-item{
  display:block;
  padding:10px 16px;
  color:#eaeaea;
  text-decoration:none;
}

.header__dropdown-item:hover{
  background:#1f1f1f;
}

/* ===============================
   MOBILE
=============================== */
@media (max-width:768px){

  body{
    padding-top: 64px;
  }

  .header__inner{
    min-height: 64px;
  }

  .header__links-wrapper{
    flex-direction:column;
    align-items:stretch;
    gap:0;
  }

  .header__dropdown-toggle{
    justify-content:space-between;
    padding:14px 16px;
  }

  .header__dropdown-menu{
    position:static;
    display:none;
    background:#0f0f0f;
    border:none;
  }

  .header__dropdown:hover .header__dropdown-menu{
    display:block;
  }

  .header__dropdown-item{
    padding:14px 20px;
    background:#1a1a1a;
    border-top:1px solid #2a2a2a;
    font-size:15px;
  }
}

/* ===============================
   LANGUAGE SWITCHER
=============================== */
.header__lang-switcher{
  display:inline-flex;
  gap:.5rem;
  align-items:center;
  font-size:1.3rem;
  margin-left:1rem;
}
.lang-flag.active{ text-decoration:underline }
.lang-flag.disabled{ opacity:.5; filter:grayscale(100%) }

</style>
</header>


    
      <div class="hero lazyload"
           data-bg="http://localhost:4000/assets/img/posts/flask.jpg"
           role="img"
           aria-label="How to deploy Python video processing application on the...">
    
        <div class="hero__wrap">

          
            <div class="hero__categories">
              
                <a class="label"
                   href="/categories/#Web development tutorial series"
                   aria-label="Category: Web development tutorial series">
                   Web development tutorial series
                </a>
                
              
            </div>
          

          <h1 class="hero__title" itemprop="headline">How to deploy Python video processing application on the...</h1>

          <p class="hero__meta">
            <time datetime="2020-12-03T00:00:00+08:00" itemprop="datePublished">
              03 Dec 2020
            </time>
            &nbsp;¬∑&nbsp;
            
            <span itemprop="timeRequired">
              
                14 mins read
              
            </span>
          </p>
        </div>
      </div>

    <main class="site__content" role="main">

      <!-- ‚úÖ START: YouTube Video Section -->
      <section id="youtube-video" style="text-align:center; padding:5px 5px; background:#f8f8f8;">
        <div class="container">
          <div style="margin-top:25px;">
            <a href="https://www.youtube.com/@pyshine_official/shorts"
              target="_blank"
              style="background:#ff0000; color:white; padding:12px 24px; border-radius:6px; text-decoration:none; font-weight:bold; display:inline-flex; align-items:center; gap:8px;">
              <svg xmlns="http://www.w3.org/2000/svg" width="22" height="16" viewBox="0 0 24 24">
                <path fill="#FFF" d="M23.5 6.2a3 3 0 0 0-2.1-2.1C19.5 3.5 12 3.5 12 3.5s-7.5 0-9.4.6A3 3 0 0 0 .5 6.2 31.5 31.5 0 0 0 0 12a31.5 31.5 0 0 0 .5 5.8 3 3 0 0 0 2.1 2.1c1.9.6 9.4.6 9.4.6s7.5 0 9.4-.6a3 3 0 0 0 2.1-2.1A31.5 31.5 0 0 0 24 12a31.5 31.5 0 0 0-.5-5.8z"/>
                <path fill="#FF0000" d="M9.75 15.02v-6l6 3z"/>
              </svg>
              Watch PyShine on YouTube
            </a>
          </div>
        </div>
      </section>

      <!-- ‚úÖ END: YouTube Video Section -->

      <div class="container post-layout">

        <!-- SIDEBAR TOC -->
        <aside class="post-toc" id="post-toc">
          <h3 class="no-toc">Contents</h3>
          <nav id="toc-list"></nav>
        </aside>

        <!-- MAIN CONTENT -->
        <article class="post-content"
                 itemprop="articleBody"
                 itemscope itemtype="https://schema.org/Article">

          <!-- INLINE TOC -->
          <div id="inline-toc" class="inline-toc-box">
            <h3 class="no-toc">Contents</h3>
            <nav id="inline-toc-list"></nav>
          </div>

          <p><br /></p>
<div align="center">
<iframe width="560" height="315" src="https://www.youtube.com/embed/2Nw4WQj4isA" frameborder="0" allow="accelerometer; autoplay; clipboard-write; 
encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</div>
<p><br /></p>

<p>Hello friends! Today we will design a web application using Flask framework. We will use opencv to process the video frames. The user will submit a form containing 
input parameters. These parameters are Brightness value, and Blur value. Following is the code for the deployment of application on the internet especially using
the PythonAnywhere.com service. Its basic plan is free, for more details please visit the website. Follow the above video tutorial for deployment on the wifi local
area network as per your server‚Äôs IP address.</p>

<h1 id="important-installation-steps-to-aviod-any-issues">Important installation steps to aviod any issues</h1>

<p>We need to install the proper working version of Werkzeug i.e. (Werkzeug-0.10.2.dev0dev-20220510) . In addition install the following versions</p>

<p><code class="language-plaintext highlighter-rouge">pip3 install Flask-SocketIO==4.3.1</code></p>

<p><code class="language-plaintext highlighter-rouge">pip3 install python-engineio==3.13.2</code></p>

<p><code class="language-plaintext highlighter-rouge">pip3 install python-socketio==4.6.0</code></p>

<p><code class="language-plaintext highlighter-rouge">pip3 install git+https://github.com/untitaker/werkzeug.git@reloader-perf</code></p>

<p>Please note that the above installations will resolve following issues:</p>
<ul>
  <li>ImportError: cannot import name ‚Äòrun_with_reloader‚Äô from ‚Äòwerkzeug.serving‚Äô</li>
  <li>The client is using an unsupported version of the Socket.IO or Engine.IO protocols (further occurrences of this error will be logged with level INFO)</li>
  <li>‚ÄúGET /socket.io/?EIO=3&amp;transport=polling&amp;t=O2j_BJX HTTP/1.1‚Äù 400</li>
</ul>

<h2 id="files-for-deployment-on-the-internet">Files for deployment on the internet</h2>

<h3 id="processpy">process.py</h3>

<style>
  .copy-code-button {
	box-shadow:inset 0px 1px 0px 0px #bbdaf7;
	background:linear-gradient(to bottom, #79bbff 5%, #378de5 100%);
	background-color:#79bbff;
	border-radius:6px;
	border:1px solid #84bbf3;
	display:inline-block;
	cursor:pointer;
	color:#ffffff;
	font-family:Arial;
	font-size:15px;
	font-weight:bold;
	padding:6px 24px;
	text-decoration:none;
	text-shadow:0px 1px 0px #528ecc;
}
.copy-code-button:hover {
	background:linear-gradient(to bottom, #378de5 5%, #79bbff 100%);
	background-color:#378de5;
}
.copy-code-button:active {
	position:relative;
	top:1px;
}
</style>

<div class="code-header">
  <button class="copy-code-button">
    Copy code to clipboard
  </button>
</div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">render_template</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span><span class="n">Response</span>
<span class="kn">import</span> <span class="nn">cv2</span><span class="p">,</span><span class="n">imutils</span><span class="p">,</span><span class="n">time</span>
<span class="kn">import</span> <span class="nn">pyshine</span> <span class="k">as</span> <span class="n">ps</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">'/'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
   <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s">'index.html'</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">changeBrightness</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="n">value</span><span class="p">):</span>
	<span class="s">""" This function will take an image (img) and the brightness
		value. It will perform the brightness change using OpenCv
		and after split, will merge the img and return it.
	"""</span>
	<span class="n">hsv</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="n">cv2</span><span class="p">.</span><span class="n">COLOR_BGR2HSV</span><span class="p">)</span>
	<span class="n">h</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="n">v</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="n">hsv</span><span class="p">)</span>
	<span class="n">lim</span> <span class="o">=</span> <span class="mi">255</span> <span class="o">-</span> <span class="n">value</span>
	<span class="n">v</span><span class="p">[</span><span class="n">v</span><span class="o">&gt;</span><span class="n">lim</span><span class="p">]</span> <span class="o">=</span> <span class="mi">255</span>
	<span class="n">v</span><span class="p">[</span><span class="n">v</span><span class="o">&lt;=</span><span class="n">lim</span><span class="p">]</span> <span class="o">+=</span> <span class="n">value</span>
	<span class="n">final_hsv</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">merge</span><span class="p">((</span><span class="n">h</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="n">v</span><span class="p">))</span>
	<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">final_hsv</span><span class="p">,</span><span class="n">cv2</span><span class="p">.</span><span class="n">COLOR_HSV2BGR</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">img</span>

<span class="k">def</span> <span class="nf">changeBlur</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="n">value</span><span class="p">):</span>
	<span class="s">""" This function will take the img image and blur values as inputs.
		After perform blur operation using opencv function, it returns
		the image img.
	"""</span>
	<span class="n">kernel_size</span> <span class="o">=</span> <span class="p">(</span><span class="n">value</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">value</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># +1 is to avoid 0
</span>	<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">blur</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="n">kernel_size</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">img</span>

<span class="k">def</span> <span class="nf">pyshine_process</span><span class="p">(</span><span class="n">params</span><span class="p">):</span>
	<span class="k">print</span><span class="p">(</span><span class="s">"Parameters:"</span><span class="p">,</span><span class="n">params</span><span class="p">)</span>
	<span class="s">"""Video streaming generator function."""</span>
	<span class="n">CAMERA</span><span class="o">=</span><span class="bp">False</span>
	<span class="k">if</span> <span class="n">CAMERA</span><span class="p">:</span>
		<span class="n">cap</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">VideoCapture</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
	<span class="k">else</span><span class="p">:</span>
		<span class="n">cap</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">VideoCapture</span><span class="p">(</span><span class="s">'videos/mario.mp4'</span><span class="p">)</span>
	<span class="k">print</span><span class="p">(</span><span class="s">'FUNCTION DONE'</span><span class="p">)</span>
<span class="c1">### Read until video is completed
</span>	<span class="n">fps</span><span class="o">=</span><span class="mi">0</span>
	<span class="n">st</span><span class="o">=</span><span class="mi">0</span>
	<span class="n">frames_to_count</span><span class="o">=</span><span class="mi">20</span>
	<span class="n">cnt</span><span class="o">=</span><span class="mi">0</span>


	<span class="k">while</span><span class="p">(</span><span class="n">cap</span><span class="p">.</span><span class="n">isOpened</span><span class="p">()):</span>

		<span class="n">ret</span><span class="p">,</span> <span class="n">img</span> <span class="o">=</span> <span class="n">cap</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
		<span class="n">brightness_value_now</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="s">'brightness'</span><span class="p">])</span>
		<span class="n">blur_value_now</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="s">'blur'</span><span class="p">])</span>
		<span class="n">img</span> <span class="o">=</span> <span class="n">changeBrightness</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="n">brightness_value_now</span><span class="p">)</span>
		<span class="n">img</span> <span class="o">=</span> <span class="n">changeBlur</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="n">blur_value_now</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">ret</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>

			<span class="k">if</span> <span class="n">cnt</span> <span class="o">==</span> <span class="n">frames_to_count</span><span class="p">:</span>
				<span class="k">try</span><span class="p">:</span> <span class="c1"># To avoid divide by 0 we put it in try except
</span>
					<span class="n">fps</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">frames_to_count</span><span class="o">/</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span><span class="o">-</span><span class="n">st</span><span class="p">))</span>
					<span class="n">st</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span>
					<span class="n">cnt</span><span class="o">=</span><span class="mi">0</span>
				<span class="k">except</span><span class="p">:</span>
					<span class="k">pass</span>

			<span class="n">cnt</span><span class="o">+=</span><span class="mi">1</span>

			<span class="n">img</span> <span class="o">=</span> <span class="n">imutils</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">640</span><span class="p">)</span>

			<span class="n">text</span>  <span class="o">=</span>  <span class="s">'FPS: '</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">fps</span><span class="p">)</span>
			<span class="n">img</span> <span class="o">=</span> <span class="n">ps</span><span class="p">.</span><span class="n">putBText</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="n">text</span><span class="p">,</span><span class="n">text_offset_x</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">text_offset_y</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span><span class="n">background_RGB</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">222</span><span class="p">))</span>
			<span class="n">text</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">"%d %b %Y %H.%M.%S %p"</span><span class="p">))</span>
			<span class="n">img</span> <span class="o">=</span> <span class="n">ps</span><span class="p">.</span><span class="n">putBText</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="n">text</span><span class="p">,</span><span class="n">text_offset_x</span><span class="o">=</span><span class="mi">190</span><span class="p">,</span><span class="n">text_offset_y</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span><span class="n">background_RGB</span><span class="o">=</span><span class="p">(</span><span class="mi">228</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">222</span><span class="p">))</span>
			<span class="n">text</span>  <span class="o">=</span>  <span class="sa">f</span><span class="s">"Brightness: </span><span class="si">{</span><span class="n">brightness_value_now</span><span class="si">}</span><span class="s">"</span>
			<span class="n">img</span> <span class="o">=</span> <span class="n">ps</span><span class="p">.</span><span class="n">putBText</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="n">text</span><span class="p">,</span><span class="n">text_offset_x</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">text_offset_y</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span><span class="n">background_RGB</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">210</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
			<span class="n">text</span>  <span class="o">=</span>  <span class="sa">f</span><span class="s">'Blur: </span><span class="si">{</span><span class="n">blur_value_now</span><span class="si">}</span><span class="s">'</span>
			<span class="n">img</span> <span class="o">=</span> <span class="n">ps</span><span class="p">.</span><span class="n">putBText</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="n">text</span><span class="p">,</span><span class="n">text_offset_x</span><span class="o">=</span><span class="mi">490</span><span class="p">,</span><span class="n">text_offset_y</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span><span class="n">background_RGB</span><span class="o">=</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
			<span class="n">frame</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">imencode</span><span class="p">(</span><span class="s">'.JPEG'</span><span class="p">,</span> <span class="n">img</span><span class="p">,[</span><span class="n">cv2</span><span class="p">.</span><span class="n">IMWRITE_JPEG_QUALITY</span><span class="p">,</span><span class="mi">20</span><span class="p">])[</span><span class="mi">1</span><span class="p">].</span><span class="n">tobytes</span><span class="p">()</span>
			<span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.016</span><span class="p">)</span>
			<span class="k">yield</span> <span class="p">(</span><span class="sa">b</span><span class="s">'--frame</span><span class="se">\r\n</span><span class="s">'</span><span class="sa">b</span><span class="s">'Content-Type: image/jpeg</span><span class="se">\r\n\r\n</span><span class="s">'</span> <span class="o">+</span> <span class="n">frame</span> <span class="o">+</span> <span class="sa">b</span><span class="s">'</span><span class="se">\r\n</span><span class="s">'</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="k">break</span>


<span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">'/res'</span><span class="p">,</span><span class="n">methods</span> <span class="o">=</span> <span class="p">[</span><span class="s">'POST'</span><span class="p">,</span><span class="s">'GET'</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">res</span><span class="p">():</span>
	<span class="k">global</span> <span class="n">result</span>
	<span class="k">if</span> <span class="n">request</span><span class="p">.</span><span class="n">method</span> <span class="o">==</span> <span class="s">'POST'</span><span class="p">:</span>
		<span class="n">result</span> <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="n">form</span><span class="p">.</span><span class="n">to_dict</span><span class="p">()</span>
		<span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s">"results.html"</span><span class="p">,</span><span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="p">)</span>

<span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">'/results'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">video_feed</span><span class="p">():</span>
	<span class="k">global</span> <span class="n">result</span>
	<span class="n">params</span><span class="o">=</span> <span class="n">result</span>
	<span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="n">pyshine_process</span><span class="p">(</span><span class="n">params</span><span class="p">),</span><span class="n">mimetype</span><span class="o">=</span><span class="s">'multipart/x-mixed-replace; boundary=frame'</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
    <span class="n">app</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">threaded</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

</code></pre></div></div>

<h3 id="indexhtml">index.html</h3>

<style>
  .copy-code-button {
	box-shadow:inset 0px 1px 0px 0px #bbdaf7;
	background:linear-gradient(to bottom, #79bbff 5%, #378de5 100%);
	background-color:#79bbff;
	border-radius:6px;
	border:1px solid #84bbf3;
	display:inline-block;
	cursor:pointer;
	color:#ffffff;
	font-family:Arial;
	font-size:15px;
	font-weight:bold;
	padding:6px 24px;
	text-decoration:none;
	text-shadow:0px 1px 0px #528ecc;
}
.copy-code-button:hover {
	background:linear-gradient(to bottom, #378de5 5%, #79bbff 100%);
	background-color:#378de5;
}
.copy-code-button:active {
	position:relative;
	top:1px;
}
</style>

<div class="code-header">
  <button class="copy-code-button">
    Copy code to clipboard
  </button>
</div>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="cp">&lt;!DOCTYPE html&gt;</span>

<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span>PyShine streaming video application <span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>

  <span class="nt">&lt;h1&gt;</span>Please input the parameters (0 to 100): <span class="nt">&lt;/h1&gt;</span>

<span class="nt">&lt;form</span> <span class="na">action = </span><span class="s">"/res"</span> <span class="na">method = </span><span class="s">"POST"</span><span class="nt">&gt;</span>

  <span class="nt">&lt;table&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
      <span class="nt">&lt;td</span> <span class="na">align=</span><span class="s">"right"</span><span class="nt">&gt;</span>Brightness:<span class="nt">&lt;/td&gt;</span>
      <span class="nt">&lt;td</span> <span class="na">align=</span><span class="s">"left"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"brightness"</span> <span class="na">value=</span><span class="s">"1"</span> <span class="nt">/&gt;&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
      <span class="nt">&lt;td</span> <span class="na">align=</span><span class="s">"right"</span><span class="nt">&gt;</span>Blur:<span class="nt">&lt;/td&gt;</span>
      <span class="nt">&lt;td</span> <span class="na">align=</span><span class="s">"left"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"blur"</span> <span class="na">value=</span><span class="s">"0"</span> <span class="nt">/&gt;&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
   <span class="nt">&lt;tr&gt;</span>
   <span class="nt">&lt;td&gt;&lt;/td&gt;</span>
      <span class="nt">&lt;td</span> <span class="na">align=</span><span class="s">"right"</span><span class="nt">&gt;&lt;input</span> <span class="na">type = </span><span class="s">"submit"</span> <span class="na">value = </span><span class="s">"submit"</span> <span class="nt">/&gt;&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>

  <span class="nt">&lt;/table&gt;</span>
<span class="nt">&lt;/form&gt;</span>


  <span class="nt">&lt;/body&gt;</span>

<span class="nt">&lt;/html&gt;</span>


</code></pre></div></div>

<h3 id="resultshtml">results.html</h3>

<p>!<img src="http://localhost:4000/assets/img/posts/resultshtml.png" alt="resultshtml" /></p>

<h2 id="files-for-deployment-on-the-wifi-lan">Files for deployment on the wifi LAN</h2>

<p>Following is the code set for the local wifi based deployment. Please note that ‚Äò192.168.1.104‚Äô is the IP address on our computer, please change it according
to your computer‚Äôs IP address against the Wirless LAN. If you dont know your IP address, then please follow our tutorial about socket programming. The process.py 
file is the main python code here. The index.html and results.html should be put in the templates directory. Because Flask looks for the htmls in this directory
by default. We have set the Camera flag to True, so when you will run this code, the video will come from your webcam attached to the server.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
python process.py

</code></pre></div></div>
<p>After running this code, copy the address and enter in the browser, http://192.168.1.104:9999, again it may be different in your case. It will appear in the
power shell or terminal window, so you can copy it easily. The good thing about this application is that, you can view the video on your wireless mobile device.
It can be a smart phone, table, etc.</p>

<h3 id="processpy-1">process.py</h3>

<style>
  .copy-code-button {
	box-shadow:inset 0px 1px 0px 0px #bbdaf7;
	background:linear-gradient(to bottom, #79bbff 5%, #378de5 100%);
	background-color:#79bbff;
	border-radius:6px;
	border:1px solid #84bbf3;
	display:inline-block;
	cursor:pointer;
	color:#ffffff;
	font-family:Arial;
	font-size:15px;
	font-weight:bold;
	padding:6px 24px;
	text-decoration:none;
	text-shadow:0px 1px 0px #528ecc;
}
.copy-code-button:hover {
	background:linear-gradient(to bottom, #378de5 5%, #79bbff 100%);
	background-color:#378de5;
}
.copy-code-button:active {
	position:relative;
	top:1px;
}
</style>

<div class="code-header">
  <button class="copy-code-button">
    Copy code to clipboard
  </button>
</div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">render_template</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span><span class="n">Response</span>
<span class="kn">import</span> <span class="nn">cv2</span><span class="p">,</span><span class="n">imutils</span><span class="p">,</span><span class="n">time</span>
<span class="kn">import</span> <span class="nn">pyshine</span> <span class="k">as</span> <span class="n">ps</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">'/'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
   <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s">'index.html'</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">changeBrightness</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="n">value</span><span class="p">):</span>
	<span class="s">""" This function will take an image (img) and the brightness
		value. It will perform the brightness change using OpenCv
		and after split, will merge the img and return it.
	"""</span>
	<span class="n">hsv</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="n">cv2</span><span class="p">.</span><span class="n">COLOR_BGR2HSV</span><span class="p">)</span>
	<span class="n">h</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="n">v</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="n">hsv</span><span class="p">)</span>
	<span class="n">lim</span> <span class="o">=</span> <span class="mi">255</span> <span class="o">-</span> <span class="n">value</span>
	<span class="n">v</span><span class="p">[</span><span class="n">v</span><span class="o">&gt;</span><span class="n">lim</span><span class="p">]</span> <span class="o">=</span> <span class="mi">255</span>
	<span class="n">v</span><span class="p">[</span><span class="n">v</span><span class="o">&lt;=</span><span class="n">lim</span><span class="p">]</span> <span class="o">+=</span> <span class="n">value</span>
	<span class="n">final_hsv</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">merge</span><span class="p">((</span><span class="n">h</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="n">v</span><span class="p">))</span>
	<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">final_hsv</span><span class="p">,</span><span class="n">cv2</span><span class="p">.</span><span class="n">COLOR_HSV2BGR</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">img</span>

<span class="k">def</span> <span class="nf">changeBlur</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="n">value</span><span class="p">):</span>
	<span class="s">""" This function will take the img image and blur values as inputs.
		After perform blur operation using opencv function, it returns
		the image img.
	"""</span>
	<span class="n">kernel_size</span> <span class="o">=</span> <span class="p">(</span><span class="n">value</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">value</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># +1 is to avoid 0
</span>	<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">blur</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="n">kernel_size</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">img</span>

<span class="k">def</span> <span class="nf">pyshine_process</span><span class="p">(</span><span class="n">params</span><span class="p">):</span>
	<span class="k">print</span><span class="p">(</span><span class="s">"Parameters:"</span><span class="p">,</span><span class="n">params</span><span class="p">)</span>
	<span class="s">"""Video streaming generator function."""</span>
	<span class="n">CAMERA</span><span class="o">=</span><span class="bp">True</span>
	<span class="k">if</span> <span class="n">CAMERA</span><span class="p">:</span>
		<span class="n">cap</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">VideoCapture</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
	<span class="k">else</span><span class="p">:</span>
		<span class="n">cap</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">VideoCapture</span><span class="p">(</span><span class="s">'videos/mario.mp4'</span><span class="p">)</span>
	<span class="k">print</span><span class="p">(</span><span class="s">'FUNCTION DONE'</span><span class="p">)</span>
<span class="c1">### Read until video is completed
</span>	<span class="n">fps</span><span class="o">=</span><span class="mi">0</span>
	<span class="n">st</span><span class="o">=</span><span class="mi">0</span>
	<span class="n">frames_to_count</span><span class="o">=</span><span class="mi">20</span>
	<span class="n">cnt</span><span class="o">=</span><span class="mi">0</span>


	<span class="k">while</span><span class="p">(</span><span class="n">cap</span><span class="p">.</span><span class="n">isOpened</span><span class="p">()):</span>

		<span class="n">ret</span><span class="p">,</span> <span class="n">img</span> <span class="o">=</span> <span class="n">cap</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
		<span class="n">brightness_value_now</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="s">'brightness'</span><span class="p">])</span>
		<span class="n">blur_value_now</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="s">'blur'</span><span class="p">])</span>
		<span class="n">img</span> <span class="o">=</span> <span class="n">changeBrightness</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="n">brightness_value_now</span><span class="p">)</span>
		<span class="n">img</span> <span class="o">=</span> <span class="n">changeBlur</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="n">blur_value_now</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">ret</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>

			<span class="k">if</span> <span class="n">cnt</span> <span class="o">==</span> <span class="n">frames_to_count</span><span class="p">:</span>
				<span class="k">try</span><span class="p">:</span> <span class="c1"># To avoid divide by 0 we put it in try except
</span>
					<span class="n">fps</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">frames_to_count</span><span class="o">/</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span><span class="o">-</span><span class="n">st</span><span class="p">))</span>
					<span class="n">st</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span>
					<span class="n">cnt</span><span class="o">=</span><span class="mi">0</span>
				<span class="k">except</span><span class="p">:</span>
					<span class="k">pass</span>

			<span class="n">cnt</span><span class="o">+=</span><span class="mi">1</span>

			<span class="n">img</span> <span class="o">=</span> <span class="n">imutils</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">640</span><span class="p">)</span>

			<span class="n">text</span>  <span class="o">=</span>  <span class="s">'FPS: '</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">fps</span><span class="p">)</span>
			<span class="n">img</span> <span class="o">=</span> <span class="n">ps</span><span class="p">.</span><span class="n">putBText</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="n">text</span><span class="p">,</span><span class="n">text_offset_x</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">text_offset_y</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span><span class="n">background_RGB</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">222</span><span class="p">))</span>
			<span class="n">text</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">"%d %b %Y %H.%M.%S %p"</span><span class="p">))</span>
			<span class="n">img</span> <span class="o">=</span> <span class="n">ps</span><span class="p">.</span><span class="n">putBText</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="n">text</span><span class="p">,</span><span class="n">text_offset_x</span><span class="o">=</span><span class="mi">190</span><span class="p">,</span><span class="n">text_offset_y</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span><span class="n">background_RGB</span><span class="o">=</span><span class="p">(</span><span class="mi">228</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">222</span><span class="p">))</span>
			<span class="n">text</span>  <span class="o">=</span>  <span class="sa">f</span><span class="s">"Brightness: </span><span class="si">{</span><span class="n">brightness_value_now</span><span class="si">}</span><span class="s">"</span>
			<span class="n">img</span> <span class="o">=</span> <span class="n">ps</span><span class="p">.</span><span class="n">putBText</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="n">text</span><span class="p">,</span><span class="n">text_offset_x</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">text_offset_y</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span><span class="n">background_RGB</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">210</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
			<span class="n">text</span>  <span class="o">=</span>  <span class="sa">f</span><span class="s">'Blur: </span><span class="si">{</span><span class="n">blur_value_now</span><span class="si">}</span><span class="s">'</span>
			<span class="n">img</span> <span class="o">=</span> <span class="n">ps</span><span class="p">.</span><span class="n">putBText</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="n">text</span><span class="p">,</span><span class="n">text_offset_x</span><span class="o">=</span><span class="mi">490</span><span class="p">,</span><span class="n">text_offset_y</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span><span class="n">background_RGB</span><span class="o">=</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
			<span class="n">frame</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">imencode</span><span class="p">(</span><span class="s">'.JPEG'</span><span class="p">,</span> <span class="n">img</span><span class="p">,[</span><span class="n">cv2</span><span class="p">.</span><span class="n">IMWRITE_JPEG_QUALITY</span><span class="p">,</span><span class="mi">20</span><span class="p">])[</span><span class="mi">1</span><span class="p">].</span><span class="n">tobytes</span><span class="p">()</span>
			<span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.016</span><span class="p">)</span>
			<span class="k">yield</span> <span class="p">(</span><span class="sa">b</span><span class="s">'--frame</span><span class="se">\r\n</span><span class="s">'</span><span class="sa">b</span><span class="s">'Content-Type: image/jpeg</span><span class="se">\r\n\r\n</span><span class="s">'</span> <span class="o">+</span> <span class="n">frame</span> <span class="o">+</span> <span class="sa">b</span><span class="s">'</span><span class="se">\r\n</span><span class="s">'</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="k">break</span>


<span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">'/res'</span><span class="p">,</span><span class="n">methods</span> <span class="o">=</span> <span class="p">[</span><span class="s">'POST'</span><span class="p">,</span><span class="s">'GET'</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">res</span><span class="p">():</span>
	<span class="k">global</span> <span class="n">result</span>
	<span class="k">if</span> <span class="n">request</span><span class="p">.</span><span class="n">method</span> <span class="o">==</span> <span class="s">'POST'</span><span class="p">:</span>
		<span class="n">result</span> <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="n">form</span><span class="p">.</span><span class="n">to_dict</span><span class="p">()</span>
		<span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s">"results.html"</span><span class="p">,</span><span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="p">)</span>

<span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">'/results'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">video_feed</span><span class="p">():</span>
	<span class="k">global</span> <span class="n">result</span>
	<span class="n">params</span><span class="o">=</span> <span class="n">result</span>
	<span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="n">pyshine_process</span><span class="p">(</span><span class="n">params</span><span class="p">),</span><span class="n">mimetype</span><span class="o">=</span><span class="s">'multipart/x-mixed-replace; boundary=frame'</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
    <span class="n">app</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="s">'192.168.1.104'</span><span class="p">,</span><span class="n">port</span><span class="o">=</span><span class="mi">9999</span><span class="p">,</span><span class="n">threaded</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

</code></pre></div></div>

<h3 id="indexhtml-1">index.html</h3>

<style>
  .copy-code-button {
	box-shadow:inset 0px 1px 0px 0px #bbdaf7;
	background:linear-gradient(to bottom, #79bbff 5%, #378de5 100%);
	background-color:#79bbff;
	border-radius:6px;
	border:1px solid #84bbf3;
	display:inline-block;
	cursor:pointer;
	color:#ffffff;
	font-family:Arial;
	font-size:15px;
	font-weight:bold;
	padding:6px 24px;
	text-decoration:none;
	text-shadow:0px 1px 0px #528ecc;
}
.copy-code-button:hover {
	background:linear-gradient(to bottom, #378de5 5%, #79bbff 100%);
	background-color:#378de5;
}
.copy-code-button:active {
	position:relative;
	top:1px;
}
</style>

<div class="code-header">
  <button class="copy-code-button">
    Copy code to clipboard
  </button>
</div>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="cp">&lt;!DOCTYPE html&gt;</span>

<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span>PyShine streaming video application <span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;h1&gt;</span>Please input the parameters (0 to 100): <span class="nt">&lt;/h1&gt;</span>
	<span class="nt">&lt;form</span> <span class="na">action = </span><span class="s">"http://192.168.1.104:9999/res"</span> <span class="na">method = </span><span class="s">"POST"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;table&gt;</span>
		<span class="nt">&lt;tr&gt;</span>
		  <span class="nt">&lt;td</span> <span class="na">align=</span><span class="s">"right"</span><span class="nt">&gt;</span>Brightness:<span class="nt">&lt;/td&gt;</span>
		  <span class="nt">&lt;td</span> <span class="na">align=</span><span class="s">"left"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"brightness"</span> <span class="na">value=</span><span class="s">"1"</span> <span class="nt">/&gt;&lt;/td&gt;</span>
		<span class="nt">&lt;/tr&gt;</span>
		<span class="nt">&lt;tr&gt;</span>
		  <span class="nt">&lt;td</span> <span class="na">align=</span><span class="s">"right"</span><span class="nt">&gt;</span>Blur:<span class="nt">&lt;/td&gt;</span>
		  <span class="nt">&lt;td</span> <span class="na">align=</span><span class="s">"left"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"blur"</span> <span class="na">value=</span><span class="s">"0"</span> <span class="nt">/&gt;&lt;/td&gt;</span>
		<span class="nt">&lt;/tr&gt;</span>
		 <span class="nt">&lt;tr&gt;</span>
		 <span class="nt">&lt;td&gt;&lt;/td&gt;</span>
		  <span class="nt">&lt;td</span> <span class="na">align=</span><span class="s">"right"</span><span class="nt">&gt;&lt;input</span> <span class="na">type = </span><span class="s">"submit"</span> <span class="na">value = </span><span class="s">"submit"</span> <span class="nt">/&gt;&lt;/td&gt;</span>
		<span class="nt">&lt;/tr&gt;</span>
		<span class="nt">&lt;/table&gt;</span>
	<span class="nt">&lt;/form&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>


</code></pre></div></div>

<h3 id="resultshtml-1">results.html</h3>

<p>!<img src="http://localhost:4000/assets/img/posts/resultshtml.png" alt="resultshtml" /></p>

<p>Please do comment, if you like this tutorial, also if have question or suggestions.</p>



          <!-- Syntax Highlighting -->
          <link href="/assets/css/syntax.css" rel="stylesheet">
          <script src="/assets/scripts/copyCode.js" async></script>

          <!-- Ads -->
          <section aria-label="Advertisements" class="ads mt-4">
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-2976211678184829"
                 data-ad-slot="7658460605"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
              (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
          </section>

        </article>

      </div>

      <!-- Post Navigation -->
      <nav class="post-navigation controls__inner mt-5" aria-label="Post navigation">
        <div class="controls__item prev">
          
            <span>Previous</span>
            <a href="/Working-with-multiple-threads-in-PyQt5/" rel="prev">
              Working with multiple threads in PyQt5
            </a>
          
        </div>

        <div class="controls__item next">
          
            <span>Next</span>
            <a href="/Audio-plot-in-five-llines/" rel="next">
              How to get audio frames from the micr...
            </a>
          
        </div>
      </nav>

      <!-- Related Posts -->
      
      
      
      
      
      
      
      
      
      
        <section class="related-posts mt-5" aria-label="Related Posts">
          <div class="container">
            <h2 class="related-posts__title">Related Posts</h2>
            <div class="related-posts__grid">
              
                <a class="related-post-card" href="/Video-streaming-and-car-control-with-Python/">
                  
                    <div class="related-post-card__image">
                      <img src="https://www.pyshine.com/assets/img/posts/raspberrypicarcontrol_thumb.jpg" 
                           alt="Video streaming and Car Control in Python"
                           loading="lazy" />
                    </div>
                  
                  <div class="related-post-card__content">
                    <h3 class="related-post-card__title">Video streaming and Car Control in Python</h3>
                    <p class="related-post-card__excerpt">
                      
                        Hi friends! Today's tutorial is Part 04 of the Raspberry Pi (RPi) learning series. Raspberry...
                      
                    </p>
                    <span class="related-post-card__date">
                      May 03, 2022
                    </span>
                  </div>
                </a>
              
                <a class="related-post-card" href="/Pyt5-Gui-for-two-videos-display/">
                  
                    <div class="related-post-card__image">
                      <img src="https://www.pyshine.com/assets/img/posts/pyqt5-two-video-gui2_thumb.jpg" 
                           alt="How to stream two videos in PyQt5 GUI"
                           loading="lazy" />
                    </div>
                  
                  <div class="related-post-card__content">
                    <h3 class="related-post-card__title">How to stream two videos in PyQt5 GUI</h3>
                    <p class="related-post-card__excerpt">
                      
                        Hi friends following is the code for Part 17 of the PyQt5 learning series. #...
                      
                    </p>
                    <span class="related-post-card__date">
                      Sep 03, 2022
                    </span>
                  </div>
                </a>
              
                <a class="related-post-card" href="/Real-time-streaming-protocol-and-opencv-in-Python/">
                  
                    <div class="related-post-card__image">
                      <img src="https://www.pyshine.com/assets/img/posts/rtsp_thumb.jpg" 
                           alt="OpenCV and Real time streaming protocol (RTSP)"
                           loading="lazy" />
                    </div>
                  
                  <div class="related-post-card__content">
                    <h3 class="related-post-card__title">OpenCV and Real time streaming protocol (RTSP)</h3>
                    <p class="related-post-card__excerpt">
                      
                        Hello friends, this tutorial is about RTSP stream basics, how to process it, and obtain...
                      
                    </p>
                    <span class="related-post-card__date">
                      Nov 01, 2020
                    </span>
                  </div>
                </a>
              
                <a class="related-post-card" href="/How-to-send-audio-video-of-MP4-using-sockets-in-Python/">
                  
                    <div class="related-post-card__image">
                      <img src="https://www.pyshine.com/assets/img/posts/pythonudpaudiovideo_thumb.jpg" 
                           alt="How to send audio and video using socket programming in..."
                           loading="lazy" />
                    </div>
                  
                  <div class="related-post-card__content">
                    <h3 class="related-post-card__title">How to send audio and video using socket programming in...</h3>
                    <p class="related-post-card__excerpt">
                      
                        Hello friends! Today's tutorial is about sending audio and video streams from a server to...
                      
                    </p>
                    <span class="related-post-card__date">
                      Feb 20, 2021
                    </span>
                  </div>
                </a>
              
                <a class="related-post-card" href="/Send-video-over-UDP-socket-in-Python/">
                  
                    <div class="related-post-card__image">
                      <img src="https://www.pyshine.com/assets/img/posts/pythonudp1_thumb.jpg" 
                           alt="How to send video using UDP socket in Python"
                           loading="lazy" />
                    </div>
                  
                  <div class="related-post-card__content">
                    <h3 class="related-post-card__title">How to send video using UDP socket in Python</h3>
                    <p class="related-post-card__excerpt">
                      
                        Hello friends! Previously, we have seen how TCP sockets work. In this tutorial we will...
                      
                    </p>
                    <span class="related-post-card__date">
                      Feb 17, 2021
                    </span>
                  </div>
                </a>
              
                <a class="related-post-card" href="/Play-Rock-Paper-Scissors-Game-using-PyQt5-GUI/">
                  
                    <div class="related-post-card__image">
                      <img src="https://www.pyshine.com/assets/img/posts/pyqtRPS_thumb.jpg" 
                           alt="Play Rock Paper Scissors Game using PyQt5 GUI"
                           loading="lazy" />
                    </div>
                  
                  <div class="related-post-card__content">
                    <h3 class="related-post-card__title">Play Rock Paper Scissors Game using PyQt5 GUI</h3>
                    <p class="related-post-card__excerpt">
                      
                        Hi and welcome! It is part 14 of the PyQt5 learning series. Today we will...
                      
                    </p>
                    <span class="related-post-card__date">
                      Jan 29, 2021
                    </span>
                  </div>
                </a>
              
            </div>
          </div>
        </section>
      

      <!-- Disqus -->
      
        <section class="comments mt-5" aria-label="Comments Section">
          
<section class="comments mt-5" aria-label="Comments Section" style="text-align: center; padding: 50px 0; background-color: #fafafa;">
  <div id="disqus_thread" style="max-width: 800px; margin: 0 auto;"></div>
  <script>

var disqus_config = function () {
this.page.url = 'http://localhost:4000/How-to-quickly-deploy-flask-application-for-video/';
this.page.identifier = 'http://localhost:4000/How-to-quickly-deploy-flask-application-for-video/';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://https-py2ai-github-io.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the comments.</noscript>
</section>


        </section>
      

    </main>

    <footer class="footer">
  <div class="container">
    <nav class="social">
      
      
      
    </nav>
    <span>&copy; 2026 PyShine. All rights reserved.</span>
  </div>
</footer>
<script async src="/assets/js/bundle.js"></script>

<script async>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/sw.js').then(function( registration ) {
      console.log('ServiceWorker registration successful with scope: ', registration.scope);
    })
    .catch(function(error) {
      console.log('ServiceWorker registration failed: ', error);
    });
  }
</script>



    <!-- Back to Top Button -->
    <button id="back-to-top" class="back-to-top" aria-label="Back to top">
      <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="18 15 12 9 6 15"></polyline>
      </svg>
    </button>

    <!-- MathJax -->
    
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
<script
  type="text/javascript"
  charset="utf-8"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"
>
</script>
<script
  type="text/javascript"
  charset="utf-8"
  src="https://vincenttam.github.io/javascripts/MathJaxLocal.js"
>
</script>



    <!-- Ads -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

    <!-- SIDEBAR TOC SCRIPT -->
    <script>
    document.addEventListener("DOMContentLoaded", function() {
      const toc = document.getElementById("toc-list");
      const headings = document.querySelectorAll(
        ".post-content h2:not(.no-toc), .post-content h3:not(.no-toc)"
      );
      if (!toc || headings.length === 0) return;

      const ul = document.createElement("ul");
      headings.forEach(h => {
        const id = h.id || h.textContent.trim().toLowerCase().replace(/\s+/g, "-");
        h.id = id;

        const li = document.createElement("li");
        if (h.tagName === "H3") li.style.marginLeft = "1rem";

        li.innerHTML = `<a href="#${id}">${h.textContent}</a>`;
        ul.appendChild(li);
      });
      toc.appendChild(ul);
    });
    </script>

    <!-- INLINE TOC SCRIPT -->
    <script>
    document.addEventListener("DOMContentLoaded", function() {
      const tocTarget = document.getElementById("inline-toc-list");
      const headings = document.querySelectorAll(
        ".post-content h2:not(.no-toc), .post-content h3:not(.no-toc)"
      );
      if (!tocTarget || headings.length === 0) return;

      const ul = document.createElement("ul");
      headings.forEach(h => {
        const id = h.id || h.textContent.trim().toLowerCase().replace(/\s+/g, "-");
        h.id = id;

        const li = document.createElement("li");
        if (h.tagName === "H3") li.style.marginLeft = "1rem";

        li.innerHTML = `<a href="#${id}">${h.textContent}</a>`;
        ul.appendChild(li);
      });
      tocTarget.appendChild(ul);
    });
    </script>

    <!-- Back to Top Button Script -->
    <script>
    document.addEventListener("DOMContentLoaded", function() {
      const backToTopButton = document.getElementById("back-to-top");
      if (!backToTopButton) return;

      // Show button when scrolled down 300px
      window.addEventListener("scroll", function() {
        if (window.pageYOffset > 300) {
          backToTopButton.classList.add("visible");
        } else {
          backToTopButton.classList.remove("visible");
        }
      });

      // Smooth scroll to top when clicked
      backToTopButton.addEventListener("click", function() {
        window.scrollTo({
          top: 0,
          behavior: "smooth"
        });
      });
    });
    </script>

    <!-- INLINE TOC STYLES -->
    <style>
      .inline-toc-box {
        background: #D4EDFD;
        padding: 15px 20px;
        border-radius: 10px;
        margin-bottom: 25px;
        border: 1px solid #e0e0e0;
      }
      .inline-toc-box ul {
        margin: 0;
        padding-left: 18px;
      }
      .inline-toc-box li {
        margin-bottom: 6px;
      }
      /* Center post navigation */
      .post-navigation.controls__inner {
        justify-content: center !important;
        gap: 4rem;
      }
      /* Related Posts Styles */
      .related-posts {
        margin-top: 3rem;
        padding: 2rem 0;
        border-top: 1px solid #e0e0e0;
      }
      .related-posts .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
      }
      .related-posts__title {
        font-size: 1.75rem;
        margin-bottom: 1.5rem;
        color: #000000;
        text-align: center;
      }
      .related-posts__grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 1.5rem;
        max-width: 1200px;
        margin: 0 auto;
      }
      .related-post-card {
        display: block;
        text-decoration: none;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        overflow: hidden;
        transition: box-shadow 0.3s ease, transform 0.3s ease;
      }
      .related-post-card:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        transform: translateY(-4px);
      }
      .related-post-card__image {
        width: 100%;
        height: 100px;
        background: #f5f5f5;
      }
      .related-post-card__image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
      .related-post-card__content {
        padding: 0.75rem;
      }
      .related-post-card__title {
        font-size: 0.95rem;
        margin: 0 0 0.4rem 0;
        color: #000000;
        line-height: 1.3;
        font-weight: 600;
      }
      .related-post-card__excerpt {
        font-size: 0.8rem;
        color: #666;
        margin: 0 0 0.5rem 0;
        line-height: 1.4;
      }
      .related-post-card__date {
        font-size: 0.75rem;
        color: #999;
      }
      @media (max-width: 992px) {
        .related-posts__grid {
          grid-template-columns: repeat(2, 1fr);
        }
      }
      @media (max-width: 600px) {
        .related-posts__grid {
          grid-template-columns: 1fr;
        }
      }
      /* Back to Top Button Styles */
      .back-to-top {
        position: fixed;
        bottom: 30px;
        right: 30px;
        width: 50px;
        height: 50px;
        background: #000000;
        color: #ffffff;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        opacity: 0;
        visibility: hidden;
        transform: translateY(20px);
        transition: all 0.3s ease;
        z-index: 9999;
      }
      .back-to-top.visible {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
      }
      .back-to-top:hover {
        background: #333333;
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);
        transform: translateY(-2px);
      }
      .back-to-top:active {
        transform: translateY(0);
      }
      @media (max-width: 768px) {
        .back-to-top {
          bottom: 20px;
          right: 20px;
          width: 45px;
          height: 45px;
        }
      }
    </style>

  </body>
</html>


