

  <!DOCTYPE html>
<html lang="en" itemscope itemtype="https://schema.org/Article">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Canonical URL - redirect www to non-www -->
  <link rel="canonical" href="https://pyshine.com/How-to-make-a-real-time-voice-plot-in-PyQt5/">

  <!-- Pinterest & Google verification -->
  <meta name="p:domain_verify" content="fb68a8459fe32b8b072bcd5cc620d125"/>
  <meta name="google-site-verification" content="WAkFPi5cvufClnQetgIl0STmvvwHhVf8jfyENFWhsxU" />
  <meta name="google-site-verification" content="g2pFZlv-92XQD67BPgiVHsvZ4TZH13Ucvmmvvv36kU4" />

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>PytQt5 GUI design to plot Live audio data from Microphone | PyShine</title>
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="PytQt5 GUI design to plot Live audio data from Microphone" />
<meta name="author" content="PyShine Team" />
<meta property="og:locale" content="en" />
<meta name="description" content="How to make a GUI using PyQt5 and Matplotlib to plot real-time data" />
<meta property="og:description" content="How to make a GUI using PyQt5 and Matplotlib to plot real-time data" />
<link rel="canonical" href="https://pyshine.com/How-to-make-a-real-time-voice-plot-in-PyQt5/" />
<meta property="og:url" content="https://pyshine.com/How-to-make-a-real-time-voice-plot-in-PyQt5/" />
<meta property="og:site_name" content="PyShine" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-11-13T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="PytQt5 GUI design to plot Live audio data from Microphone" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"PyShine Team"},"dateModified":"2020-11-13T00:00:00+00:00","datePublished":"2020-11-13T00:00:00+00:00","description":"How to make a GUI using PyQt5 and Matplotlib to plot real-time data","headline":"PytQt5 GUI design to plot Live audio data from Microphone","mainEntityOfPage":{"@type":"WebPage","@id":"https://pyshine.com/How-to-make-a-real-time-voice-plot-in-PyQt5/"},"name":"{{ page.title escape }}","url":"https://pyshine.com/How-to-make-a-real-time-voice-plot-in-PyQt5/"}</script>
<!-- End Jekyll SEO tag -->
  <!-- This will generate the canonical link automatically -->

  <script src="https://analytics.ahrefs.com/analytics.js" data-key="Im0K82YsmEDy08+6wyUIZA" async></script>

  <!-- Favicon & App Icons -->
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/img/icons/apple-touch-icon.png?v=qA3OXqyw77">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/icons/favicon-32x32.png?v=qA3OXqyw77">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/icons/favicon-16x16.png?v=qA3OXqyw77">
  <link rel="manifest" href="/assets/img/icons/manifest.json?v=qA3OXqyw77">
  <link rel="mask-icon" href="/assets/img/icons/safari-pinned-tab.svg?v=qA3OXqyw77" color="#5bbad5">
  <link rel="shortcut icon" href="/assets/img/icons/favicon.ico?v=qA3OXqyw77">
  <!--[if IE]><link rel="shortcut icon" href="/assets/img/icons/favicon.ico?v=qA3OXqyw77"><![endif]-->

  <!-- App & Theme Info -->
  <meta name="apple-mobile-web-app-title" content="Sleek">
  <meta name="application-name" content="Sleek">
  <meta name="msapplication-config" content="/assets/img/icons/browserconfig.xml?v=qA3OXqyw77">
  <meta name="theme-color" content="#ffffff">

  
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-TCVFBKF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'GTM-TCVFBKF');
</script>

  

  <!-- Critical CSS Inline -->
  <style class="inlineCSS">
    h1{color:#313237;margin-top:0;margin-bottom:.5rem}.dark-bg{background-color:#19d319}@media (min-width:48em){.post-card{width:48.4375%;margin-right:3.125%}.post-card:last-of-type,.post-card:nth-child(2n+2){margin-right:0}}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}header,nav,section{display:block}h1{font-size:2em;margin:.67em 0}figure,main{display:block}figure{margin:1em 40px}a{background-color:transparent;-webkit-text-decoration-skip:objects}img{border-style:none}svg:not(:root){overflow:hidden}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}body{-webkit-overflow-scrolling:touch}*,::after,::before{-webkit-box-sizing:inherit;box-sizing:inherit}.site{display:-webkit-box;display:-ms-flexbox;display:flex;min-height:100vh;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.site__content{-webkit-box-flex:1;-ms-flex:1;flex:1}img{max-width:100%;height:auto;width:auto;vertical-align:middle}figure{margin:0}body{background-color:#fff;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Hiragino Sans GB","Microsoft YaHei","WenQuanYi Micro Hei",sans-serif;font-size:1rem;line-height:1.5;color:#343851;-webkit-font-smoothing:antialiased;-webkit-text-size-adjust:100%}p{margin-top:0;margin-bottom:1.25rem}h1,h2{color:#313237;margin-top:0;margin-bottom:.5rem}a{color:#277cea;text-decoration:none;border-bottom:1px dashed #277cea}.blur{background:#fff;filter:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg"><filter id="filter"><feGaussianBlur stdDeviation="16" /></filter></svg>#filter');-webkit-filter:blur(1rem);filter:blur(1rem)}.container{padding:0 20px}@media (min-width:0){.container{max-width:auto;margin:0 auto}}@media (min-width:36em){.container{max-width:540px;margin:0 auto}}@media (min-width:48em){.container{max-width:720px;margin:0 auto}}@media (min-width:62em){.container{max-width:960px;margin:0 auto}}@media (min-width:75em){.container{max-width:1170px;margin:0 auto}}.header{background-color:#fff;color:#343851;position:absolute;z-index:4;width:100%;top:0;left:0;will-change:transform;-webkit-transform:translateY(0);transform:translateY(0)}.header a{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom:0}.header__logo{display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;overflow:hidden;padding:19px 0;margin-right:1.25rem;outline:0;border-bottom:0;color:#313237}.header__logo .header__logo--container{width:58px}.header__logo .header__logo--container .logo{fill:currentColor}.header__inner{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:3.75em;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.header__links{padding-bottom:.5rem;display:none;position:absolute;top:3.75em;left:0;width:100%;height:auto;background:#fff}.header__link{color:#343851;padding:.938rem 0;border-top:1px solid #ededed}.header__toggle{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:44px;height:100%;background-color:transparent;padding-left:1.25rem}.header__toggle span{display:block;position:relative;margin-top:4px;background-color:#343851;width:100%;height:2px;border-radius:1px}.header__toggle span:first-child{margin-top:0}@media (min-width:62em){.header__toggle{display:none;visibility:hidden}.header__links{position:static;padding:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;visibility:visible;width:auto;height:100%}.header__links-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;padding:0}.header__link{position:relative;padding:.938rem 1rem;border:0;height:100%}.header__link::after{content:"";display:block;position:absolute;left:0;bottom:0;height:3px;width:100%;-webkit-transform:scaleX(0);transform:scaleX(0);background:#277cea}}.post-card{display:block;position:relative;width:100%;min-height:250px;border-radius:4px;overflow:hidden;background-color:#fff;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.08);box-shadow:0 1px 3px rgba(0,0,0,.08);margin-bottom:2.25rem;border-bottom:0}@media (min-width:48em){.post-card{width:48.4375%;margin-right:3.125%}.post-card:nth-child(2n+2){margin-right:0}}@media (min-width:75em){.post-card{width:31.25%;margin-right:3.125%}.post-card:nth-child(2n+2){margin-right:3.125%}}.post-card__label{position:absolute;top:1.5rem;left:1.5rem;z-index:2}.post-card__thumb{margin:0;background:#fff;position:relative;overflow:hidden}.post-card__thumb::after{content:"";display:block;height:0;width:100%;padding-bottom:56.25%}.post-card__thumb>*{position:absolute;top:0;left:0;width:100%;height:100%;display:block}.post-card__inner{padding:1.875rem 1.25rem .625rem;color:#838c8d}.post-card__header{margin-bottom:.75rem}.post-card__header .post-card__meta{font-size:.875rem}.label{padding:0 10px;margin-bottom:1rem;display:inline-block;line-height:20px;font-size:.75rem;text-transform:uppercase;letter-spacing:1px;color:rgba(255,255,255,.8);border:2px solid rgba(255,255,255,.5);border-radius:100px}.hero{margin:3.75rem auto 0;min-height:16.25rem;width:100%;position:relative;background-color:#dde5ea;background-repeat:no-repeat;background-position:50%;background-size:cover}@media (min-width:62em){.hero{margin:0 auto;height:36em}}.hero::before{position:absolute;display:block;content:"";top:0;left:0;width:100%;height:100%;background:rgba(52,56,81,.8)}.hero__wrap{position:absolute;margin:auto;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);text-align:center;color:rgba(255,255,255,.8);width:100%;max-width:90%;z-index:1}.hero__wrap .hero__title{font-size:1.8em;color:#fff}.blog{background-color:#f9f9f9}.post-list{padding-top:2.5em;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-flex:1;-ms-flex:1 0 auto;flex:1 0 auto}@media (min-width:48em){.hero__wrap{max-width:40em}.hero__wrap .hero__title{padding:1rem 0;font-size:2.625em;line-height:3.125rem}.post-list{padding-top:5em}}
  </style>

  <!-- Main CSS -->
  <link rel="preload" href="/assets/css/main.css" as="style" onload="this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="/assets/css/main.css"></noscript>

  <script type="text/javascript">
    /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
(function(w){"use strict";if(!w.loadCSS){w.loadCSS=function(){}}
var rp=loadCSS.relpreload={};rp.support=(function(){var ret;try{ret=w.document.createElement("link").relList.supports("preload")}catch(e){ret=!1}
return function(){return ret}})();rp.bindMediaToggle=function(link){var finalMedia=link.media||"all";function enableStylesheet(){link.media=finalMedia}
if(link.addEventListener){link.addEventListener("load",enableStylesheet)}else if(link.attachEvent){link.attachEvent("onload",enableStylesheet)}
setTimeout(function(){link.rel="stylesheet";link.media="only x"});setTimeout(enableStylesheet,3000)};rp.poly=function(){if(rp.support()){return}
var links=w.document.getElementsByTagName("link");for(var i=0;i<links.length;i++){var link=links[i];if(link.rel==="preload"&&link.getAttribute("as")==="style"&&!link.getAttribute("data-loadcss")){link.setAttribute("data-loadcss",!0);rp.bindMediaToggle(link)}}};if(!rp.support()){rp.poly();var run=w.setInterval(rp.poly,500);if(w.addEventListener){w.addEventListener("load",function(){rp.poly();w.clearInterval(run)})}else if(w.attachEvent){w.attachEvent("onload",function(){rp.poly();w.clearInterval(run)})}}
if(typeof exports!=="undefined"){exports.loadCSS=loadCSS}
else{w.loadCSS=loadCSS}}(typeof global!=="undefined"?global:this))

  </script>

  <!-- MathJax -->
  <script type="text/javascript" id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>
</head>


  <body class="site" itemscope itemtype="https://schema.org/WebPage">

    
      <!-- Google Tag Manager (noscript) -->
      <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TCVFBKF"
                height="0" width="0" style="display:none;visibility:hidden"></iframe>
      </noscript>
      <!-- End Google Tag Manager -->
    

    <header class="header"
  itemscope
  itemtype="http://schema.org/SiteNavigationElement"
  aria-label="Main navigation">

  <div class="container">
    <div class="header__inner">

      <!-- Logo -->
      <a class="header__logo" href="/">
        <div class="header__logo--container">
          <?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
<g>
	<path d="M18.121,9.88l-7.832-7.836c-0.155-0.158-0.428-0.155-0.584,0L1.842,9.913c-0.262,0.263-0.073,0.705,0.292,0.705h2.069v7.042c0,0.227,0.187,0.414,0.414,0.414h3.725c0.228,0,0.414-0.188,0.414-0.414v-3.313h2.483v3.313c0,0.227,0.187,0.414,0.413,0.414h3.726c0.229,0,0.414-0.188,0.414-0.414v-7.042h2.068h0.004C18.331,10.617,18.389,10.146,18.121,9.88 M14.963,17.245h-2.896v-3.313c0-0.229-0.186-0.415-0.414-0.415H8.342c-0.228,0-0.414,0.187-0.414,0.415v3.313H5.032v-6.628h9.931V17.245z M3.133,9.79l6.864-6.868l6.867,6.868H3.133z"></path>

	
	
</g>
</svg>

        </div>
      </a>

      <!-- Navigation -->
      <nav class="header__links">
        <div class="header__links-wrapper">

          
            
              <a class="header__link" href="/">
                Home
              </a>
            
          
            
              <a class="header__link" href="/categories">
                Posts
              </a>
            
          
            

            <!-- Applications Dropdown -->
            <div class="header__dropdown">
              <span class="header__link header__dropdown-toggle">
                Applications
                <span class="dropdown-arrow">â–¾</span>
              </span>

              <div class="header__dropdown-menu">
                
                  <a class="header__dropdown-item"
                     href="/photo_correction">
                    Online Photo Correction
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/photo">
                    Online Passport Photo 20KB
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/finger.html">
                    Online Fingers Scanner
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/avatars">
                    Online Make Avatars
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/kanban/debounce.html">
                    Online Reminder App
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/converter.html">
                    Online Image Resize
                  </a>
                
              </div>
            </div>

            
          
            

            <!-- Applications Dropdown -->
            <div class="header__dropdown">
              <span class="header__link header__dropdown-toggle">
                Games
                <span class="dropdown-arrow">â–¾</span>
              </span>

              <div class="header__dropdown-menu">
                
                  <a class="header__dropdown-item"
                     href="/games/snake">
                    Snake Game
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/games/flappy-bird">
                    Flappy Bird
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/games/tetris">
                    Tetris
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/games/memory-match">
                    Memory Match
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/games/pong">
                    Pong
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/games/2048">
                    2048
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/games/battleship">
                    Battleship
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/games/go">
                    GO Game
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/games/chess">
                    Chess Game
                  </a>
                
                  <a class="header__dropdown-item"
                     href="/games/copter">
                    Copter Game
                  </a>
                
              </div>
            </div>

            
          
            
              <a class="header__link" href="/about">
                About
              </a>
            
          
            
              <a class="header__link" href="/contact">
                Contact
              </a>
            
          
            
              <a class="header__link" href="/privacy">
                Privacy Policy
              </a>
            
          
            
              <a class="header__link" href="/disclaimer">
                Disclaimer
              </a>
            
          

        </div>
      </nav>

      <!-- Language Switcher -->
      

      <!-- Mobile Toggle -->
      <div class="header__toggle">
        <span></span><span></span><span></span>
      </div>

    </div>
  </div>

<style>
/* ==================================================
   ðŸ”’ HEADER â€” ALWAYS VISIBLE, FULL WIDTH COLOR
================================================== */
.header{
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;           /* full width */
  z-index: 10000;
  background: #FFFFFF;    /* uniform header background */
  box-shadow: 0 2px 12px rgba(0,0,0,.35);
  transform: none !important;
  transition: none !important;
}

/* Lock height to avoid reflow */
.header__inner{
  min-height: 72px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

/* Prevent content hiding under fixed header */
body{
  padding-top: 72px;
}

/* ===============================
   NAV BASE
=============================== */
.header__links-wrapper{
  display:flex;
  align-items:center;
  gap:1.5rem;
}

.header__link,
.header__dropdown-toggle{
  display:inline-flex;
  align-items:center;
  gap:6px;
  cursor:pointer;
  font-size:16px;
  font-weight:500;
  color:#000000;
}

/* ===============================
   DROPDOWN
=============================== */
.header__dropdown{
  position:relative;
}

.dropdown-arrow{
  font-size:1.4em;
  transition:transform .2s ease;
}

.header__dropdown:hover .dropdown-arrow{
  transform:rotate(180deg);
}

.header__dropdown-menu{
  position:absolute;
  top:100%;
  left:0;
  min-width:220px;
  background:#121212;
  border:1px solid #333;
  border-radius:10px;
  padding:6px 0;
  display:none;
  z-index:9999;
}

.header__dropdown:hover .header__dropdown-menu{
  display:block;
}

.header__dropdown-item{
  display:block;
  padding:10px 16px;
  color:#eaeaea;
  text-decoration:none;
}

.header__dropdown-item:hover{
  background:#1f1f1f;
}

/* ===============================
   MOBILE
=============================== */
@media (max-width:768px){

  body{
    padding-top: 64px;
  }

  .header__inner{
    min-height: 64px;
  }

  .header__links-wrapper{
    flex-direction:column;
    align-items:stretch;
    gap:0;
  }

  .header__dropdown-toggle{
    justify-content:space-between;
    padding:14px 16px;
  }

  .header__dropdown-menu{
    position:static;
    display:none;
    background:#0f0f0f;
    border:none;
  }

  .header__dropdown:hover .header__dropdown-menu{
    display:block;
  }

  .header__dropdown-item{
    padding:14px 20px;
    background:#1a1a1a;
    border-top:1px solid #2a2a2a;
    font-size:15px;
  }
}

/* ===============================
   LANGUAGE SWITCHER
=============================== */
.header__lang-switcher{
  display:inline-flex;
  gap:.5rem;
  align-items:center;
  font-size:1.3rem;
  margin-left:1rem;
}
.lang-flag.active{ text-decoration:underline }
.lang-flag.disabled{ opacity:.5; filter:grayscale(100%) }

</style>
</header>


    
      <div class="hero lazyload"
           data-bg="https://pyshine.com/assets/img/posts/audiolive.jpg"
           role="img"
           aria-label="PytQt5 GUI design to plot Live audio data from Microphone">
    
        <div class="hero__wrap">

          
            <div class="hero__categories">
              
                <a class="label"
                   href="/categories/#GUI tutorial series"
                   aria-label="Category: GUI tutorial series">
                   GUI tutorial series
                </a>
                
              
            </div>
          

          <h1 class="hero__title" itemprop="headline">PytQt5 GUI design to plot Live audio data from Microphone</h1>

          <p class="hero__meta">
            <time datetime="2020-11-13T00:00:00+00:00" itemprop="datePublished">
              13 Nov 2020
            </time>
            &nbsp;Â·&nbsp;
            
            <span itemprop="timeRequired">
              
                15 mins read
              
            </span>
          </p>
        </div>
      </div>

    <main class="site__content" role="main">

      <!-- âœ… START: YouTube Video Section -->
      <section id="youtube-video" style="text-align:center; padding:5px 5px; background:#f8f8f8;">
        <div class="container">
          <div style="margin-top:25px;">
            <a href="https://www.youtube.com/@pyshine_official/shorts"
              target="_blank"
              style="background:#ff0000; color:white; padding:12px 24px; border-radius:6px; text-decoration:none; font-weight:bold; display:inline-flex; align-items:center; gap:8px;">
              <svg xmlns="http://www.w3.org/2000/svg" width="22" height="16" viewBox="0 0 24 24">
                <path fill="#FFF" d="M23.5 6.2a3 3 0 0 0-2.1-2.1C19.5 3.5 12 3.5 12 3.5s-7.5 0-9.4.6A3 3 0 0 0 .5 6.2 31.5 31.5 0 0 0 0 12a31.5 31.5 0 0 0 .5 5.8 3 3 0 0 0 2.1 2.1c1.9.6 9.4.6 9.4.6s7.5 0 9.4-.6a3 3 0 0 0 2.1-2.1A31.5 31.5 0 0 0 24 12a31.5 31.5 0 0 0-.5-5.8z"/>
                <path fill="#FF0000" d="M9.75 15.02v-6l6 3z"/>
              </svg>
              Watch PyShine on YouTube
            </a>
          </div>
        </div>
      </section>

      <!-- âœ… END: YouTube Video Section -->

      <div class="container post-layout">

        <!-- SIDEBAR TOC -->
        <aside class="post-toc" id="post-toc">
          <h3 class="no-toc">Contents</h3>
          <nav id="toc-list"></nav>
        </aside>

        <!-- MAIN CONTENT -->
        <article class="post-content"
                 itemprop="articleBody"
                 itemscope itemtype="https://schema.org/Article">

          <!-- INLINE TOC -->
          <div id="inline-toc" class="inline-toc-box">
            <h3 class="no-toc">Contents</h3>
            <nav id="inline-toc-list"></nav>
          </div>

          <p><br /></p>
<div align="center">
<iframe width="560" height="315" src="https://www.youtube.com/embed/Ng00Mj5Tt8o" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</div>
<p><br /></p>

<p>Hello friends, today we will design a simple but beneficial GUI in PyQt5. We will plot live audio data that is sampled from your computerâ€™s audio device.
We will use the Matplotlib figure and update the canvas according to the set interval in the GUI. This kind of application is useful in your projects; for example, 
you can plot temperature, counts of vehicles, peoples, and much more. The basic idea is to use the QTimer and QThread to run the Audio stream, put the stream data to a queue, and get the queue data to display it to the Matplotlib canvas. The functionality of the different modules used in the code below are explained
in the video above.</p>

<h1 id="installation-of-sounddevice">Installation of sounddevice</h1>

<p>Installing sounddevice in Linux/Ubuntu requires following two steps:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install libportaudio2
pip3 install sounddevice
</code></pre></div></div>
<p>On Windows and Mac OS</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip3 install sounddevice
</code></pre></div></div>

<p>Other included libraries can also be installed using pip3 install.</p>

<p>Alright, to run the GUI, we actually require two files:</p>

<p>1) gui.py
2) main.ui</p>

<p>Please copy the code and paste in the empty Python files named as main.ui and gui.py. It is highly recommended to run this code (gui.py) using Power Shell, IDLE or terminal in
the MAC OS. Put both these files in the same directory and from that driectory run the code.</p>

<h2 id="run-the-code-as">Run the code as:</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">python3</span> <span class="n">gui</span><span class="p">.</span><span class="n">py</span>

</code></pre></div></div>
<p>Here is the main.ui file, you can open it in the PyQt5 designer as a main.ui file. To save time, you can add more changes to it according to your requirements.</p>

<h3 id="mainui">main.ui</h3>
<style>
  .copy-code-button {
	box-shadow:inset 0px 1px 0px 0px #bbdaf7;
	background:linear-gradient(to bottom, #79bbff 5%, #378de5 100%);
	background-color:#79bbff;
	border-radius:6px;
	border:1px solid #84bbf3;
	display:inline-block;
	cursor:pointer;
	color:#ffffff;
	font-family:Arial;
	font-size:15px;
	font-weight:bold;
	padding:6px 24px;
	text-decoration:none;
	text-shadow:0px 1px 0px #528ecc;
}
.copy-code-button:hover {
	background:linear-gradient(to bottom, #378de5 5%, #79bbff 100%);
	background-color:#378de5;
}
.copy-code-button:active {
	position:relative;
	top:1px;
}
</style>

<div class="code-header">
  <button class="copy-code-button">
    Copy code to clipboard
  </button>
</div>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;ui</span> <span class="na">version=</span><span class="s">"4.0"</span><span class="nt">&gt;</span>
 <span class="nt">&lt;class&gt;</span>MainWindow<span class="nt">&lt;/class&gt;</span>
 <span class="nt">&lt;widget</span> <span class="na">class=</span><span class="s">"QMainWindow"</span> <span class="na">name=</span><span class="s">"MainWindow"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"geometry"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;rect&gt;</span>
    <span class="nt">&lt;x&gt;</span>0<span class="nt">&lt;/x&gt;</span>
    <span class="nt">&lt;y&gt;</span>0<span class="nt">&lt;/y&gt;</span>
    <span class="nt">&lt;width&gt;</span>888<span class="nt">&lt;/width&gt;</span>
    <span class="nt">&lt;height&gt;</span>470<span class="nt">&lt;/height&gt;</span>
   <span class="nt">&lt;/rect&gt;</span>
  <span class="nt">&lt;/property&gt;</span>
  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"windowTitle"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;string&gt;</span>MainWindow<span class="nt">&lt;/string&gt;</span>
  <span class="nt">&lt;/property&gt;</span>
  <span class="nt">&lt;widget</span> <span class="na">class=</span><span class="s">"QWidget"</span> <span class="na">name=</span><span class="s">"centralwidget"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;layout</span> <span class="na">class=</span><span class="s">"QGridLayout"</span> <span class="na">name=</span><span class="s">"gridLayout_5"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;item</span> <span class="na">row=</span><span class="s">"0"</span> <span class="na">column=</span><span class="s">"0"</span><span class="nt">&gt;</span>
     <span class="nt">&lt;layout</span> <span class="na">class=</span><span class="s">"QGridLayout"</span> <span class="na">name=</span><span class="s">"gridLayout_4"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;item</span> <span class="na">row=</span><span class="s">"1"</span> <span class="na">column=</span><span class="s">"1"</span><span class="nt">&gt;</span>
       <span class="nt">&lt;widget</span> <span class="na">class=</span><span class="s">"QGroupBox"</span> <span class="na">name=</span><span class="s">"groupBox"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"title"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;string&gt;</span>Parameters<span class="nt">&lt;/string&gt;</span>
        <span class="nt">&lt;/property&gt;</span>
        <span class="nt">&lt;layout</span> <span class="na">class=</span><span class="s">"QGridLayout"</span> <span class="na">name=</span><span class="s">"gridLayout_3"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;item</span> <span class="na">row=</span><span class="s">"0"</span> <span class="na">column=</span><span class="s">"0"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;layout</span> <span class="na">class=</span><span class="s">"QGridLayout"</span> <span class="na">name=</span><span class="s">"gridLayout_2"</span><span class="nt">&gt;</span>
           <span class="nt">&lt;item</span> <span class="na">row=</span><span class="s">"0"</span> <span class="na">column=</span><span class="s">"0"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;widget</span> <span class="na">class=</span><span class="s">"QLabel"</span> <span class="na">name=</span><span class="s">"label_2"</span><span class="nt">&gt;</span>
             <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"text"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;string&gt;</span>Audio Device<span class="nt">&lt;/string&gt;</span>
             <span class="nt">&lt;/property&gt;</span>
            <span class="nt">&lt;/widget&gt;</span>
           <span class="nt">&lt;/item&gt;</span>
           <span class="nt">&lt;item</span> <span class="na">row=</span><span class="s">"0"</span> <span class="na">column=</span><span class="s">"1"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;widget</span> <span class="na">class=</span><span class="s">"QComboBox"</span> <span class="na">name=</span><span class="s">"comboBox"</span><span class="nt">/&gt;</span>
           <span class="nt">&lt;/item&gt;</span>
           <span class="nt">&lt;item</span> <span class="na">row=</span><span class="s">"1"</span> <span class="na">column=</span><span class="s">"0"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;widget</span> <span class="na">class=</span><span class="s">"QLabel"</span> <span class="na">name=</span><span class="s">"label_3"</span><span class="nt">&gt;</span>
             <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"text"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;string&gt;</span>Window Length<span class="nt">&lt;/string&gt;</span>
             <span class="nt">&lt;/property&gt;</span>
            <span class="nt">&lt;/widget&gt;</span>
           <span class="nt">&lt;/item&gt;</span>
           <span class="nt">&lt;item</span> <span class="na">row=</span><span class="s">"1"</span> <span class="na">column=</span><span class="s">"1"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;widget</span> <span class="na">class=</span><span class="s">"QLineEdit"</span> <span class="na">name=</span><span class="s">"lineEdit"</span><span class="nt">&gt;</span>
             <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"text"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;string&gt;</span>1000<span class="nt">&lt;/string&gt;</span>
             <span class="nt">&lt;/property&gt;</span>
            <span class="nt">&lt;/widget&gt;</span>
           <span class="nt">&lt;/item&gt;</span>
           <span class="nt">&lt;item</span> <span class="na">row=</span><span class="s">"2"</span> <span class="na">column=</span><span class="s">"0"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;widget</span> <span class="na">class=</span><span class="s">"QLabel"</span> <span class="na">name=</span><span class="s">"label_4"</span><span class="nt">&gt;</span>
             <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"text"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;string&gt;</span>Sampling Rate (Hz)<span class="nt">&lt;/string&gt;</span>
             <span class="nt">&lt;/property&gt;</span>
            <span class="nt">&lt;/widget&gt;</span>
           <span class="nt">&lt;/item&gt;</span>
           <span class="nt">&lt;item</span> <span class="na">row=</span><span class="s">"2"</span> <span class="na">column=</span><span class="s">"1"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;widget</span> <span class="na">class=</span><span class="s">"QLineEdit"</span> <span class="na">name=</span><span class="s">"lineEdit_2"</span><span class="nt">&gt;</span>
             <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"text"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;string&gt;</span>44100<span class="nt">&lt;/string&gt;</span>
             <span class="nt">&lt;/property&gt;</span>
            <span class="nt">&lt;/widget&gt;</span>
           <span class="nt">&lt;/item&gt;</span>
          <span class="nt">&lt;/layout&gt;</span>
         <span class="nt">&lt;/item&gt;</span>
         <span class="nt">&lt;item</span> <span class="na">row=</span><span class="s">"0"</span> <span class="na">column=</span><span class="s">"1"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;layout</span> <span class="na">class=</span><span class="s">"QVBoxLayout"</span> <span class="na">name=</span><span class="s">"verticalLayout"</span><span class="nt">&gt;</span>
           <span class="nt">&lt;item&gt;</span>
            <span class="nt">&lt;layout</span> <span class="na">class=</span><span class="s">"QGridLayout"</span> <span class="na">name=</span><span class="s">"gridLayout"</span><span class="nt">&gt;</span>
             <span class="nt">&lt;item</span> <span class="na">row=</span><span class="s">"0"</span> <span class="na">column=</span><span class="s">"0"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;widget</span> <span class="na">class=</span><span class="s">"QLabel"</span> <span class="na">name=</span><span class="s">"label_5"</span><span class="nt">&gt;</span>
               <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"text"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;string&gt;</span>Down Sample<span class="nt">&lt;/string&gt;</span>
               <span class="nt">&lt;/property&gt;</span>
              <span class="nt">&lt;/widget&gt;</span>
             <span class="nt">&lt;/item&gt;</span>
             <span class="nt">&lt;item</span> <span class="na">row=</span><span class="s">"0"</span> <span class="na">column=</span><span class="s">"1"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;widget</span> <span class="na">class=</span><span class="s">"QLineEdit"</span> <span class="na">name=</span><span class="s">"lineEdit_3"</span><span class="nt">&gt;</span>
               <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"text"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;string&gt;</span>1<span class="nt">&lt;/string&gt;</span>
               <span class="nt">&lt;/property&gt;</span>
              <span class="nt">&lt;/widget&gt;</span>
             <span class="nt">&lt;/item&gt;</span>
             <span class="nt">&lt;item</span> <span class="na">row=</span><span class="s">"1"</span> <span class="na">column=</span><span class="s">"0"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;widget</span> <span class="na">class=</span><span class="s">"QLabel"</span> <span class="na">name=</span><span class="s">"label_6"</span><span class="nt">&gt;</span>
               <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"text"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;string&gt;</span>Update Interval (ms)<span class="nt">&lt;/string&gt;</span>
               <span class="nt">&lt;/property&gt;</span>
              <span class="nt">&lt;/widget&gt;</span>
             <span class="nt">&lt;/item&gt;</span>
             <span class="nt">&lt;item</span> <span class="na">row=</span><span class="s">"1"</span> <span class="na">column=</span><span class="s">"1"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;widget</span> <span class="na">class=</span><span class="s">"QLineEdit"</span> <span class="na">name=</span><span class="s">"lineEdit_4"</span><span class="nt">&gt;</span>
               <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"text"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;string&gt;</span>30<span class="nt">&lt;/string&gt;</span>
               <span class="nt">&lt;/property&gt;</span>
              <span class="nt">&lt;/widget&gt;</span>
             <span class="nt">&lt;/item&gt;</span>
            <span class="nt">&lt;/layout&gt;</span>
           <span class="nt">&lt;/item&gt;</span>
           <span class="nt">&lt;item&gt;</span>
            <span class="nt">&lt;widget</span> <span class="na">class=</span><span class="s">"QPushButton"</span> <span class="na">name=</span><span class="s">"pushButton"</span><span class="nt">&gt;</span>
             <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"text"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;string&gt;</span>Plot It!<span class="nt">&lt;/string&gt;</span>
             <span class="nt">&lt;/property&gt;</span>
            <span class="nt">&lt;/widget&gt;</span>
           <span class="nt">&lt;/item&gt;</span>
          <span class="nt">&lt;/layout&gt;</span>
         <span class="nt">&lt;/item&gt;</span>
        <span class="nt">&lt;/layout&gt;</span>
       <span class="nt">&lt;/widget&gt;</span>
      <span class="nt">&lt;/item&gt;</span>
      <span class="nt">&lt;item</span> <span class="na">row=</span><span class="s">"2"</span> <span class="na">column=</span><span class="s">"1"</span><span class="nt">&gt;</span>
       <span class="nt">&lt;widget</span> <span class="na">class=</span><span class="s">"QWidget"</span> <span class="na">name=</span><span class="s">"widget"</span> <span class="na">native=</span><span class="s">"true"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"styleSheet"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;string</span> <span class="na">notr=</span><span class="s">"true"</span><span class="nt">&gt;</span>background-color: rgb(0, 0, 0);<span class="nt">&lt;/string&gt;</span>
        <span class="nt">&lt;/property&gt;</span>
       <span class="nt">&lt;/widget&gt;</span>
      <span class="nt">&lt;/item&gt;</span>
      <span class="nt">&lt;item</span> <span class="na">row=</span><span class="s">"0"</span> <span class="na">column=</span><span class="s">"1"</span><span class="nt">&gt;</span>
       <span class="nt">&lt;widget</span> <span class="na">class=</span><span class="s">"QLabel"</span> <span class="na">name=</span><span class="s">"label"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"text"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;string&gt;</span><span class="ni">&amp;lt;</span>html<span class="ni">&amp;gt;&amp;lt;</span>head/<span class="ni">&amp;gt;&amp;lt;</span>body<span class="ni">&amp;gt;&amp;lt;</span>p<span class="ni">&amp;gt;&amp;lt;</span>span style=<span class="ni">&amp;quot;</span> font-size:14pt; font-weight:600;<span class="ni">&amp;quot;&amp;gt;</span>PyShine Live Voice Plot GUI<span class="ni">&amp;lt;</span>/span<span class="ni">&amp;gt;&amp;lt;</span>/p<span class="ni">&amp;gt;&amp;lt;</span>/body<span class="ni">&amp;gt;&amp;lt;</span>/html<span class="ni">&amp;gt;</span><span class="nt">&lt;/string&gt;</span>
        <span class="nt">&lt;/property&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"alignment"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;set&gt;</span>Qt::AlignCenter<span class="nt">&lt;/set&gt;</span>
        <span class="nt">&lt;/property&gt;</span>
       <span class="nt">&lt;/widget&gt;</span>
      <span class="nt">&lt;/item&gt;</span>
      <span class="nt">&lt;item</span> <span class="na">row=</span><span class="s">"3"</span> <span class="na">column=</span><span class="s">"1"</span><span class="nt">&gt;</span>
       <span class="nt">&lt;spacer</span> <span class="na">name=</span><span class="s">"horizontalSpacer"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"orientation"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;enum&gt;</span>Qt::Horizontal<span class="nt">&lt;/enum&gt;</span>
        <span class="nt">&lt;/property&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"sizeHint"</span> <span class="na">stdset=</span><span class="s">"0"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;size&gt;</span>
          <span class="nt">&lt;width&gt;</span>778<span class="nt">&lt;/width&gt;</span>
          <span class="nt">&lt;height&gt;</span>0<span class="nt">&lt;/height&gt;</span>
         <span class="nt">&lt;/size&gt;</span>
        <span class="nt">&lt;/property&gt;</span>
       <span class="nt">&lt;/spacer&gt;</span>
      <span class="nt">&lt;/item&gt;</span>
      <span class="nt">&lt;item</span> <span class="na">row=</span><span class="s">"2"</span> <span class="na">column=</span><span class="s">"0"</span><span class="nt">&gt;</span>
       <span class="nt">&lt;spacer</span> <span class="na">name=</span><span class="s">"verticalSpacer"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"orientation"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;enum&gt;</span>Qt::Vertical<span class="nt">&lt;/enum&gt;</span>
        <span class="nt">&lt;/property&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"sizeHint"</span> <span class="na">stdset=</span><span class="s">"0"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;size&gt;</span>
          <span class="nt">&lt;width&gt;</span>0<span class="nt">&lt;/width&gt;</span>
          <span class="nt">&lt;height&gt;</span>40<span class="nt">&lt;/height&gt;</span>
         <span class="nt">&lt;/size&gt;</span>
        <span class="nt">&lt;/property&gt;</span>
       <span class="nt">&lt;/spacer&gt;</span>
      <span class="nt">&lt;/item&gt;</span>
     <span class="nt">&lt;/layout&gt;</span>
    <span class="nt">&lt;/item&gt;</span>
   <span class="nt">&lt;/layout&gt;</span>
  <span class="nt">&lt;/widget&gt;</span>
  <span class="nt">&lt;widget</span> <span class="na">class=</span><span class="s">"QStatusBar"</span> <span class="na">name=</span><span class="s">"statusbar"</span><span class="nt">/&gt;</span>
 <span class="nt">&lt;/widget&gt;</span>
 <span class="nt">&lt;resources/&gt;</span>
 <span class="nt">&lt;connections/&gt;</span>
<span class="nt">&lt;/ui&gt;</span>


</code></pre></div></div>

<h3 id="guipy">gui.py</h3>
<style>
  .copy-code-button {
	box-shadow:inset 0px 1px 0px 0px #bbdaf7;
	background:linear-gradient(to bottom, #79bbff 5%, #378de5 100%);
	background-color:#79bbff;
	border-radius:6px;
	border:1px solid #84bbf3;
	display:inline-block;
	cursor:pointer;
	color:#ffffff;
	font-family:Arial;
	font-size:15px;
	font-weight:bold;
	padding:6px 24px;
	text-decoration:none;
	text-shadow:0px 1px 0px #528ecc;
}
.copy-code-button:hover {
	background:linear-gradient(to bottom, #378de5 5%, #79bbff 100%);
	background-color:#378de5;
}
.copy-code-button:active {
	position:relative;
	top:1px;
}
</style>

<div class="code-header">
  <button class="copy-code-button">
    Copy code to clipboard
  </button>
</div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## Welcome to PyShine
## This is part 10 of the PyQt5 learning series
## Based on parameters, the GUI will plot live voice data using Matplotlib in PyQt5
## We will use Qthreads to run the audio stream data.
</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="n">matplotlib</span><span class="p">.</span><span class="n">use</span><span class="p">(</span><span class="s">'Qt5Agg'</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">matplotlib.backends.backend_qt5agg</span> <span class="kn">import</span> <span class="n">FigureCanvasQTAgg</span> <span class="k">as</span> <span class="n">FigureCanvas</span>
<span class="kn">from</span> <span class="nn">matplotlib.figure</span> <span class="kn">import</span> <span class="n">Figure</span>
<span class="kn">import</span> <span class="nn">matplotlib.ticker</span> <span class="k">as</span> <span class="n">ticker</span>
<span class="kn">import</span> <span class="nn">queue</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="nn">sounddevice</span> <span class="k">as</span> <span class="n">sd</span>
<span class="kn">import</span> <span class="nn">pdb</span>
<span class="kn">from</span> <span class="nn">PyQt5</span> <span class="kn">import</span> <span class="n">QtCore</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="p">,</span><span class="n">QtGui</span>
<span class="kn">from</span> <span class="nn">PyQt5</span> <span class="kn">import</span> <span class="n">uic</span>
<span class="kn">from</span> <span class="nn">PyQt5.QtCore</span> <span class="kn">import</span> <span class="n">pyqtSlot</span>
<span class="kn">from</span> <span class="nn">PyQt5.QtMultimedia</span> <span class="kn">import</span> <span class="n">QAudioDeviceInfo</span><span class="p">,</span><span class="n">QAudio</span><span class="p">,</span><span class="n">QCameraInfo</span>

<span class="n">input_audio_deviceInfos</span> <span class="o">=</span> <span class="n">QAudioDeviceInfo</span><span class="p">.</span><span class="n">availableDevices</span><span class="p">(</span><span class="n">QAudio</span><span class="p">.</span><span class="n">AudioInput</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">MplCanvas</span><span class="p">(</span><span class="n">FigureCanvas</span><span class="p">):</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">):</span>
		<span class="n">fig</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="n">dpi</span><span class="p">)</span>
		<span class="bp">self</span><span class="p">.</span><span class="n">axes</span> <span class="o">=</span> <span class="n">fig</span><span class="p">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
		<span class="nb">super</span><span class="p">(</span><span class="n">MplCanvas</span><span class="p">,</span> <span class="bp">self</span><span class="p">).</span><span class="n">__init__</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>
		<span class="n">fig</span><span class="p">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">PyShine_LIVE_PLOT_APP</span><span class="p">(</span><span class="n">QtWidgets</span><span class="p">.</span><span class="n">QMainWindow</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">QtWidgets</span><span class="p">.</span><span class="n">QMainWindow</span><span class="p">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">ui</span> <span class="o">=</span> <span class="n">uic</span><span class="p">.</span><span class="n">loadUi</span><span class="p">(</span><span class="s">'main.ui'</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">888</span><span class="p">,</span> <span class="mi">600</span><span class="p">)</span>
        <span class="n">icon</span> <span class="o">=</span> <span class="n">QtGui</span><span class="p">.</span><span class="n">QIcon</span><span class="p">()</span>
        <span class="n">icon</span><span class="p">.</span><span class="n">addPixmap</span><span class="p">(</span><span class="n">QtGui</span><span class="p">.</span><span class="n">QPixmap</span><span class="p">(</span><span class="s">"PyShine.png"</span><span class="p">),</span> <span class="n">QtGui</span><span class="p">.</span><span class="n">QIcon</span><span class="p">.</span><span class="n">Normal</span><span class="p">,</span> <span class="n">QtGui</span><span class="p">.</span><span class="n">QIcon</span><span class="p">.</span><span class="n">Off</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">setWindowIcon</span><span class="p">(</span><span class="n">icon</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">threadpool</span> <span class="o">=</span> <span class="n">QtCore</span><span class="p">.</span><span class="n">QThreadPool</span><span class="p">()</span>	
        <span class="bp">self</span><span class="p">.</span><span class="n">devices_list</span><span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">input_audio_deviceInfos</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">devices_list</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">device</span><span class="p">.</span><span class="n">deviceName</span><span class="p">())</span>
        

        <span class="bp">self</span><span class="p">.</span><span class="n">comboBox</span><span class="p">.</span><span class="n">addItems</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">devices_list</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">comboBox</span><span class="p">.</span><span class="n">currentIndexChanged</span><span class="p">[</span><span class="s">'QString'</span><span class="p">].</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">update_now</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">comboBox</span><span class="p">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="p">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="n">MplCanvas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">ui</span><span class="p">.</span><span class="n">gridLayout_4</span><span class="p">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">canvas</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">reference_plot</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">q</span> <span class="o">=</span> <span class="n">queue</span><span class="p">.</span><span class="n">Queue</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

        <span class="bp">self</span><span class="p">.</span><span class="n">device</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">devices_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">window_length</span> <span class="o">=</span> <span class="mi">1000</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">downsample</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">channels</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">interval</span> <span class="o">=</span> <span class="mi">30</span> 
        
        <span class="c1">## device_info =  sd.query_devices(self.device, 'input')
</span>        <span class="c1">## self.samplerate = device_info['default_samplerate']
</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">samplerate</span> <span class="o">=</span> <span class="mi">44100</span>
        <span class="n">length</span>  <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">window_length</span><span class="o">*</span><span class="bp">self</span><span class="p">.</span><span class="n">samplerate</span><span class="o">/</span><span class="p">(</span><span class="mi">1000</span><span class="o">*</span><span class="bp">self</span><span class="p">.</span><span class="n">downsample</span><span class="p">))</span>
        <span class="n">sd</span><span class="p">.</span><span class="n">default</span><span class="p">.</span><span class="n">samplerate</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">samplerate</span>
        
        <span class="bp">self</span><span class="p">.</span><span class="n">plotdata</span> <span class="o">=</span>  <span class="n">np</span><span class="p">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">length</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">channels</span><span class="p">)))</span>
        
        <span class="bp">self</span><span class="p">.</span><span class="n">update_plot</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">QtCore</span><span class="p">.</span><span class="n">QTimer</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">timer</span><span class="p">.</span><span class="n">setInterval</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">interval</span><span class="p">)</span> <span class="c1">#msec
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">timer</span><span class="p">.</span><span class="n">timeout</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">update_plot</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">timer</span><span class="p">.</span><span class="n">start</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">lineEdit</span><span class="p">.</span><span class="n">textChanged</span><span class="p">[</span><span class="s">'QString'</span><span class="p">].</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">update_window_length</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">lineEdit_2</span><span class="p">.</span><span class="n">textChanged</span><span class="p">[</span><span class="s">'QString'</span><span class="p">].</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">update_sample_rate</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">lineEdit_3</span><span class="p">.</span><span class="n">textChanged</span><span class="p">[</span><span class="s">'QString'</span><span class="p">].</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">update_down_sample</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">lineEdit_4</span><span class="p">.</span><span class="n">textChanged</span><span class="p">[</span><span class="s">'QString'</span><span class="p">].</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">update_interval</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">pushButton</span><span class="p">.</span><span class="n">clicked</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">start_worker</span><span class="p">)</span>
        
        
    <span class="k">def</span> <span class="nf">getAudio</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">def</span> <span class="nf">audio_callback</span><span class="p">(</span><span class="n">indata</span><span class="p">,</span><span class="n">frames</span><span class="p">,</span><span class="n">time</span><span class="p">,</span><span class="n">status</span><span class="p">):</span>
                <span class="bp">self</span><span class="p">.</span><span class="n">q</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="n">indata</span><span class="p">[::</span><span class="bp">self</span><span class="p">.</span><span class="n">downsample</span><span class="p">,[</span><span class="mi">0</span><span class="p">]])</span>
            <span class="n">stream</span>  <span class="o">=</span> <span class="n">sd</span><span class="p">.</span><span class="n">InputStream</span><span class="p">(</span> <span class="n">device</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">device</span><span class="p">,</span> <span class="n">channels</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">channels</span><span class="p">),</span> <span class="n">samplerate</span> <span class="o">=</span><span class="bp">self</span><span class="p">.</span><span class="n">samplerate</span><span class="p">,</span> <span class="n">callback</span>  <span class="o">=</span> <span class="n">audio_callback</span><span class="p">)</span>
            <span class="k">with</span> <span class="n">stream</span><span class="p">:</span>
                <span class="nb">input</span><span class="p">()</span>
        <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s">"ERROR: "</span><span class="p">,</span><span class="n">e</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">start_worker</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">worker</span> <span class="o">=</span> <span class="n">Worker</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">start_stream</span><span class="p">,</span> <span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">threadpool</span><span class="p">.</span><span class="n">start</span><span class="p">(</span><span class="n">worker</span><span class="p">)</span>	

    <span class="k">def</span> <span class="nf">start_stream</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">lineEdit</span><span class="p">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">lineEdit_2</span><span class="p">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">lineEdit_3</span><span class="p">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">lineEdit_4</span><span class="p">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">comboBox</span><span class="p">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">pushButton</span><span class="p">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">getAudio</span><span class="p">()</span>
        
    <span class="k">def</span> <span class="nf">update_now</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">value</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">device</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">devices_list</span><span class="p">.</span><span class="n">index</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'Device:'</span><span class="p">,</span><span class="bp">self</span><span class="p">.</span><span class="n">devices_list</span><span class="p">.</span><span class="n">index</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">update_window_length</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">window_length</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="n">length</span>  <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">window_length</span><span class="o">*</span><span class="bp">self</span><span class="p">.</span><span class="n">samplerate</span><span class="o">/</span><span class="p">(</span><span class="mi">1000</span><span class="o">*</span><span class="bp">self</span><span class="p">.</span><span class="n">downsample</span><span class="p">))</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">plotdata</span> <span class="o">=</span>  <span class="n">np</span><span class="p">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">length</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">channels</span><span class="p">)))</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">update_plot</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">update_sample_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">samplerate</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="n">sd</span><span class="p">.</span><span class="n">default</span><span class="p">.</span><span class="n">samplerate</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">samplerate</span>
        <span class="n">length</span>  <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">window_length</span><span class="o">*</span><span class="bp">self</span><span class="p">.</span><span class="n">samplerate</span><span class="o">/</span><span class="p">(</span><span class="mi">1000</span><span class="o">*</span><span class="bp">self</span><span class="p">.</span><span class="n">downsample</span><span class="p">))</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">plotdata</span> <span class="o">=</span>  <span class="n">np</span><span class="p">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">length</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">channels</span><span class="p">)))</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">update_plot</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">update_down_sample</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">downsample</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="n">length</span>  <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">window_length</span><span class="o">*</span><span class="bp">self</span><span class="p">.</span><span class="n">samplerate</span><span class="o">/</span><span class="p">(</span><span class="mi">1000</span><span class="o">*</span><span class="bp">self</span><span class="p">.</span><span class="n">downsample</span><span class="p">))</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">plotdata</span> <span class="o">=</span>  <span class="n">np</span><span class="p">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">length</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">channels</span><span class="p">)))</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">update_plot</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">update_interval</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">interval</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">timer</span><span class="p">.</span><span class="n">setInterval</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">interval</span><span class="p">)</span> <span class="c1">#msec
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">timer</span><span class="p">.</span><span class="n">timeout</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">update_plot</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">timer</span><span class="p">.</span><span class="n">start</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">update_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            
            <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span> 
                    <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">q</span><span class="p">.</span><span class="n">get_nowait</span><span class="p">()</span>
                <span class="k">except</span> <span class="n">queue</span><span class="p">.</span><span class="n">Empty</span><span class="p">:</span>
                    <span class="k">break</span>
                <span class="n">shift</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
                <span class="bp">self</span><span class="p">.</span><span class="n">plotdata</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">roll</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">plotdata</span><span class="p">,</span> <span class="o">-</span><span class="n">shift</span><span class="p">,</span><span class="n">axis</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
                <span class="bp">self</span><span class="p">.</span><span class="n">plotdata</span><span class="p">[</span><span class="o">-</span><span class="n">shift</span><span class="p">:,:]</span> <span class="o">=</span> <span class="n">data</span>
                <span class="bp">self</span><span class="p">.</span><span class="n">ydata</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">plotdata</span><span class="p">[:]</span>
                <span class="bp">self</span><span class="p">.</span><span class="n">canvas</span><span class="p">.</span><span class="n">axes</span><span class="p">.</span><span class="n">set_facecolor</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
                
        
                <span class="k">if</span> <span class="bp">self</span><span class="p">.</span><span class="n">reference_plot</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="n">plot_refs</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">canvas</span><span class="p">.</span><span class="n">axes</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span> <span class="bp">self</span><span class="p">.</span><span class="n">ydata</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.29</span><span class="p">))</span>
                    <span class="bp">self</span><span class="p">.</span><span class="n">reference_plot</span> <span class="o">=</span> <span class="n">plot_refs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>				
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="p">.</span><span class="n">reference_plot</span><span class="p">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">ydata</span><span class="p">)</span>

            
            <span class="bp">self</span><span class="p">.</span><span class="n">canvas</span><span class="p">.</span><span class="n">axes</span><span class="p">.</span><span class="n">yaxis</span><span class="p">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span><span class="n">linestyle</span><span class="o">=</span><span class="s">'--'</span><span class="p">)</span>
            <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">canvas</span><span class="p">.</span><span class="n">axes</span><span class="p">.</span><span class="n">get_ylim</span><span class="p">()</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">canvas</span><span class="p">.</span><span class="n">axes</span><span class="p">.</span><span class="n">yaxis</span><span class="p">.</span><span class="n">set_ticks</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">arange</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">))</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">canvas</span><span class="p">.</span><span class="n">axes</span><span class="p">.</span><span class="n">yaxis</span><span class="p">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">ticker</span><span class="p">.</span><span class="n">FormatStrFormatter</span><span class="p">(</span><span class="s">'%0.1f'</span><span class="p">))</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">canvas</span><span class="p">.</span><span class="n">axes</span><span class="p">.</span><span class="n">set_ylim</span><span class="p">(</span> <span class="n">ymin</span><span class="o">=-</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>		
            <span class="bp">self</span><span class="p">.</span><span class="n">canvas</span><span class="p">.</span><span class="n">draw</span><span class="p">()</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>


<span class="c1">## www.pyshine.com
</span><span class="k">class</span> <span class="nc">Worker</span><span class="p">(</span><span class="n">QtCore</span><span class="p">.</span><span class="n">QRunnable</span><span class="p">):</span>

	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
		<span class="nb">super</span><span class="p">(</span><span class="n">Worker</span><span class="p">,</span> <span class="bp">self</span><span class="p">).</span><span class="n">__init__</span><span class="p">()</span>
		<span class="bp">self</span><span class="p">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">function</span>
		<span class="bp">self</span><span class="p">.</span><span class="n">args</span> <span class="o">=</span> <span class="n">args</span>
		<span class="bp">self</span><span class="p">.</span><span class="n">kwargs</span> <span class="o">=</span> <span class="n">kwargs</span>

	<span class="o">@</span><span class="n">pyqtSlot</span><span class="p">()</span>
	<span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

		<span class="bp">self</span><span class="p">.</span><span class="n">function</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="p">.</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="p">.</span><span class="n">kwargs</span><span class="p">)</span>		



<span class="n">app</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="p">.</span><span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="p">.</span><span class="n">argv</span><span class="p">)</span>
<span class="n">mainWindow</span> <span class="o">=</span> <span class="n">PyShine_LIVE_PLOT_APP</span><span class="p">()</span>
<span class="n">mainWindow</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">sys</span><span class="p">.</span><span class="nb">exit</span><span class="p">(</span><span class="n">app</span><span class="p">.</span><span class="n">exec_</span><span class="p">())</span>
</code></pre></div></div>

<p>Please do comment, and give your valuable suggestions. Have a nice day!</p>


          <!-- Syntax Highlighting -->
          <link href="/assets/css/syntax.css" rel="stylesheet">
          <script src="/assets/scripts/copyCode.js" async></script>

          <!-- Ads -->
          <section aria-label="Advertisements" class="ads mt-4">
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-2976211678184829"
                 data-ad-slot="7658460605"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
              (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
          </section>

        </article>

      </div>

      <!-- Post Navigation -->
      <nav class="post-navigation controls__inner mt-5" aria-label="Post navigation">
        <div class="controls__item prev">
          
            <span>Previous</span>
            <a href="/Video-processing-in-Python-with-OpenCV-and-PyQt5-GUI/" rel="prev">
              PytQt5 GUI design and Video processin...
            </a>
          
        </div>

        <div class="controls__item next">
          
            <span>Next</span>
            <a href="/PyQt5-Live-Audio-GUI-with-Start-and-Stop/" rel="next">
              PytQt5 Live Audio GUI with start and ...
            </a>
          
        </div>
      </nav>

      <!-- Related Posts -->
      
      
      
      
      
      
      
      
      
      
        <section class="related-posts mt-5" aria-label="Related Posts">
          <div class="container">
            <h2 class="related-posts__title">Related Posts</h2>
            <div class="related-posts__grid">
              
                <a class="related-post-card" href="/How-to-send-audio-video-of-MP4-using-sockets-in-Python/">
                  
                    <div class="related-post-card__image">
                      <img src="https://www.pyshine.com/assets/img/posts/pythonudpaudiovideo_thumb.jpg" 
                           alt="How to send audio and video using socket programming in..."
                           loading="lazy" />
                    </div>
                  
                  <div class="related-post-card__content">
                    <h3 class="related-post-card__title">How to send audio and video using socket programming in...</h3>
                    <p class="related-post-card__excerpt">
                      
                        Hello friends! Today's tutorial is about sending audio and video streams from a server to...
                      
                    </p>
                    <span class="related-post-card__date">
                      Feb 20, 2021
                    </span>
                  </div>
                </a>
              
                <a class="related-post-card" href="/Drag-Drop-CSV-File-on-PyQt5-GUI/">
                  
                    <div class="related-post-card__image">
                      <img src="https://www.pyshine.com/assets/img/posts/pyqt7_thumb.jpg" 
                           alt="How to make a Matplotlib and PyQt5 based GUI with drag..."
                           loading="lazy" />
                    </div>
                  
                  <div class="related-post-card__content">
                    <h3 class="related-post-card__title">How to make a Matplotlib and PyQt5 based GUI with drag...</h3>
                    <p class="related-post-card__excerpt">
                      
                        PyQt5 and Matplotlib Hello friends, here is the code for the drag and drop enabled...
                      
                    </p>
                    <span class="related-post-card__date">
                      Oct 01, 2020
                    </span>
                  </div>
                </a>
              
                <a class="related-post-card" href="/Socket-Programming-with-multiple-clients/">
                  
                    <div class="related-post-card__image">
                      <img src="https://www.pyshine.com/assets/img/posts/mclients_thumb.jpg" 
                           alt="Transfer video over sockets from multiple clients"
                           loading="lazy" />
                    </div>
                  
                  <div class="related-post-card__content">
                    <h3 class="related-post-card__title">Transfer video over sockets from multiple clients</h3>
                    <p class="related-post-card__excerpt">
                      
                        Hello friends, today we will do socket programming for multiple clients and a single server....
                      
                    </p>
                    <span class="related-post-card__date">
                      Oct 16, 2020
                    </span>
                  </div>
                </a>
              
                <a class="related-post-card" href="/Difference-between-yield-and-return-in-python/">
                  
                    <div class="related-post-card__image">
                      <img src="https://www.pyshine.com/assets/img/posts/yield_thumb.jpg" 
                           alt="What are yield and return statements in Python"
                           loading="lazy" />
                    </div>
                  
                  <div class="related-post-card__content">
                    <h3 class="related-post-card__title">What are yield and return statements in Python</h3>
                    <p class="related-post-card__excerpt">
                      
                        yield keyword means: Provide output and continue return keyword means: Provide output and stop Copy...
                      
                    </p>
                    <span class="related-post-card__date">
                      Aug 01, 2020
                    </span>
                  </div>
                </a>
              
                <a class="related-post-card" href="/Calculator-in-PyQt5/">
                  
                    <div class="related-post-card__image">
                      <img src="https://www.pyshine.com/assets/img/posts/calc_thumb.jpg" 
                           alt="How to make a calculator GUI in python with PyQt5"
                           loading="lazy" />
                    </div>
                  
                  <div class="related-post-card__content">
                    <h3 class="related-post-card__title">How to make a calculator GUI in python with PyQt5</h3>
                    <p class="related-post-card__excerpt">
                      
                        Hi friends! this tutorial is about making a calculator application in PyQt5. The calc.ui file...
                      
                    </p>
                    <span class="related-post-card__date">
                      Sep 22, 2020
                    </span>
                  </div>
                </a>
              
                <a class="related-post-card" href="/PyQt5-related-Questions-and-Answers/">
                  
                    <div class="related-post-card__image">
                      <img src="https://www.pyshine.com/assets/img/posts/pyqt5logo_thumb.jpg" 
                           alt="FAQs about PyQt5"
                           loading="lazy" />
                    </div>
                  
                  <div class="related-post-card__content">
                    <h3 class="related-post-card__title">FAQs about PyQt5</h3>
                    <p class="related-post-card__excerpt">
                      
                        Hi friends, we are going to start a Q and A about PyQt5 here. This...
                      
                    </p>
                    <span class="related-post-card__date">
                      Apr 19, 2022
                    </span>
                  </div>
                </a>
              
            </div>
          </div>
        </section>
      

      <!-- Disqus -->
      
        <section class="comments mt-5" aria-label="Comments Section">
          
<section class="comments mt-5" aria-label="Comments Section" style="text-align: center; padding: 50px 0; background-color: #fafafa;">
  <div id="disqus_thread" style="max-width: 800px; margin: 0 auto;"></div>
  <script>

var disqus_config = function () {
this.page.url = 'https://pyshine.com/How-to-make-a-real-time-voice-plot-in-PyQt5/';
this.page.identifier = 'https://pyshine.com/How-to-make-a-real-time-voice-plot-in-PyQt5/';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://https-py2ai-github-io.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the comments.</noscript>
</section>


        </section>
      

    </main>

    <footer class="footer">
  <div class="container">
    <nav class="social">
      
      
      
    </nav>
    <span>&copy; 2026 PyShine. All rights reserved.</span>
  </div>
</footer>
<script async src="/assets/js/bundle.js"></script>

<script async>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/sw.js').then(function( registration ) {
      console.log('ServiceWorker registration successful with scope: ', registration.scope);
    })
    .catch(function(error) {
      console.log('ServiceWorker registration failed: ', error);
    });
  }
</script>



    <!-- Back to Top Button -->
    <button id="back-to-top" class="back-to-top" aria-label="Back to top">
      <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="18 15 12 9 6 15"></polyline>
      </svg>
    </button>

    <!-- MathJax -->
    
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
<script
  type="text/javascript"
  charset="utf-8"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"
>
</script>
<script
  type="text/javascript"
  charset="utf-8"
  src="https://vincenttam.github.io/javascripts/MathJaxLocal.js"
>
</script>



    <!-- Ads -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

    <!-- SIDEBAR TOC SCRIPT -->
    <script>
    document.addEventListener("DOMContentLoaded", function() {
      const toc = document.getElementById("toc-list");
      const headings = document.querySelectorAll(
        ".post-content h2:not(.no-toc), .post-content h3:not(.no-toc)"
      );
      if (!toc || headings.length === 0) return;

      const ul = document.createElement("ul");
      headings.forEach(h => {
        const id = h.id || h.textContent.trim().toLowerCase().replace(/\s+/g, "-");
        h.id = id;

        const li = document.createElement("li");
        if (h.tagName === "H3") li.style.marginLeft = "1rem";

        li.innerHTML = `<a href="#${id}">${h.textContent}</a>`;
        ul.appendChild(li);
      });
      toc.appendChild(ul);
    });
    </script>

    <!-- INLINE TOC SCRIPT -->
    <script>
    document.addEventListener("DOMContentLoaded", function() {
      const tocTarget = document.getElementById("inline-toc-list");
      const headings = document.querySelectorAll(
        ".post-content h2:not(.no-toc), .post-content h3:not(.no-toc)"
      );
      if (!tocTarget || headings.length === 0) return;

      const ul = document.createElement("ul");
      headings.forEach(h => {
        const id = h.id || h.textContent.trim().toLowerCase().replace(/\s+/g, "-");
        h.id = id;

        const li = document.createElement("li");
        if (h.tagName === "H3") li.style.marginLeft = "1rem";

        li.innerHTML = `<a href="#${id}">${h.textContent}</a>`;
        ul.appendChild(li);
      });
      tocTarget.appendChild(ul);
    });
    </script>

    <!-- Back to Top Button Script -->
    <script>
    document.addEventListener("DOMContentLoaded", function() {
      const backToTopButton = document.getElementById("back-to-top");
      if (!backToTopButton) return;

      // Show button when scrolled down 300px
      window.addEventListener("scroll", function() {
        if (window.pageYOffset > 300) {
          backToTopButton.classList.add("visible");
        } else {
          backToTopButton.classList.remove("visible");
        }
      });

      // Smooth scroll to top when clicked
      backToTopButton.addEventListener("click", function() {
        window.scrollTo({
          top: 0,
          behavior: "smooth"
        });
      });
    });
    </script>

    <!-- INLINE TOC STYLES -->
    <style>
      .inline-toc-box {
        background: #D4EDFD;
        padding: 15px 20px;
        border-radius: 10px;
        margin-bottom: 25px;
        border: 1px solid #e0e0e0;
      }
      .inline-toc-box ul {
        margin: 0;
        padding-left: 18px;
      }
      .inline-toc-box li {
        margin-bottom: 6px;
      }
      /* Center post navigation */
      .post-navigation.controls__inner {
        justify-content: center !important;
        gap: 4rem;
      }
      /* Related Posts Styles */
      .related-posts {
        margin-top: 3rem;
        padding: 2rem 0;
        border-top: 1px solid #e0e0e0;
      }
      .related-posts .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
      }
      .related-posts__title {
        font-size: 1.75rem;
        margin-bottom: 1.5rem;
        color: #000000;
        text-align: center;
      }
      .related-posts__grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 1.5rem;
        max-width: 1200px;
        margin: 0 auto;
      }
      .related-post-card {
        display: block;
        text-decoration: none;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        overflow: hidden;
        transition: box-shadow 0.3s ease, transform 0.3s ease;
      }
      .related-post-card:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        transform: translateY(-4px);
      }
      .related-post-card__image {
        width: 100%;
        height: 100px;
        background: #f5f5f5;
      }
      .related-post-card__image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
      .related-post-card__content {
        padding: 0.75rem;
      }
      .related-post-card__title {
        font-size: 0.95rem;
        margin: 0 0 0.4rem 0;
        color: #000000;
        line-height: 1.3;
        font-weight: 600;
      }
      .related-post-card__excerpt {
        font-size: 0.8rem;
        color: #666;
        margin: 0 0 0.5rem 0;
        line-height: 1.4;
      }
      .related-post-card__date {
        font-size: 0.75rem;
        color: #999;
      }
      @media (max-width: 992px) {
        .related-posts__grid {
          grid-template-columns: repeat(2, 1fr);
        }
      }
      @media (max-width: 600px) {
        .related-posts__grid {
          grid-template-columns: 1fr;
        }
      }
      /* Back to Top Button Styles */
      .back-to-top {
        position: fixed;
        bottom: 30px;
        right: 30px;
        width: 50px;
        height: 50px;
        background: #000000;
        color: #ffffff;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        opacity: 0;
        visibility: hidden;
        transform: translateY(20px);
        transition: all 0.3s ease;
        z-index: 9999;
      }
      .back-to-top.visible {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
      }
      .back-to-top:hover {
        background: #333333;
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);
        transform: translateY(-2px);
      }
      .back-to-top:active {
        transform: translateY(0);
      }
      @media (max-width: 768px) {
        .back-to-top {
          bottom: 20px;
          right: 20px;
          width: 45px;
          height: 45px;
        }
      }
    </style>

  </body>
</html>


