

  <!DOCTYPE html>
<html lang="en" itemscope itemtype="https://schema.org/Article">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Pinterest & Google verification -->
  <meta name="p:domain_verify" content="fb68a8459fe32b8b072bcd5cc620d125"/>
  <meta name="google-site-verification" content="WAkFPi5cvufClnQetgIl0STmvvwHhVf8jfyENFWhsxU" />
  <meta name="google-site-verification" content="g2pFZlv-92XQD67BPgiVHsvZ4TZH13Ucvmmvvv36kU4" />

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Animated Flower Tree with Python Turtle – Growing &amp;… | PyShine</title>
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="Animated Flower Tree with Python Turtle – Growing &amp;…" />
<meta name="author" content="PyShine Team" />
<meta property="og:locale" content="en" />
<meta name="description" content="Learn how to create a beautiful animated tree with growing and falling flowers using Python’s Turtle graphics module. Step-by-step tutorial with physics simu…" />
<meta property="og:description" content="Learn how to create a beautiful animated tree with growing and falling flowers using Python’s Turtle graphics module. Step-by-step tutorial with physics simu…" />
<link rel="canonical" href="https://www.pyshine.com/Tree-grow-and-falling-flowers/" />
<meta property="og:url" content="https://www.pyshine.com/Tree-grow-and-falling-flowers/" />
<meta property="og:site_name" content="PyShine" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-11-06T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Animated Flower Tree with Python Turtle – Growing &amp;…" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"PyShine Team"},"dateModified":"2025-11-06T00:00:00+00:00","datePublished":"2025-11-06T00:00:00+00:00","description":"Learn how to create a beautiful animated tree with growing and falling flowers using Python’s Turtle graphics module. Step-by-step tutorial with physics simu…","headline":"Animated Flower Tree with Python Turtle – Growing &amp;…","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.pyshine.com/Tree-grow-and-falling-flowers/"},"name":"{{ page.title escape }}","url":"https://www.pyshine.com/Tree-grow-and-falling-flowers/"}</script>
<!-- End Jekyll SEO tag -->
  <!-- This will generate the canonical link automatically -->

  <script src="https://analytics.ahrefs.com/analytics.js" data-key="Im0K82YsmEDy08+6wyUIZA" async></script>

  <!-- Favicon & App Icons -->
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/img/icons/apple-touch-icon.png?v=qA3OXqyw77">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/icons/favicon-32x32.png?v=qA3OXqyw77">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/icons/favicon-16x16.png?v=qA3OXqyw77">
  <link rel="manifest" href="/assets/img/icons/manifest.json?v=qA3OXqyw77">
  <link rel="mask-icon" href="/assets/img/icons/safari-pinned-tab.svg?v=qA3OXqyw77" color="#5bbad5">
  <link rel="shortcut icon" href="/assets/img/icons/favicon.ico?v=qA3OXqyw77">
  <!--[if IE]><link rel="shortcut icon" href="/assets/img/icons/favicon.ico?v=qA3OXqyw77"><![endif]-->

  <!-- App & Theme Info -->
  <meta name="apple-mobile-web-app-title" content="Sleek">
  <meta name="application-name" content="Sleek">
  <meta name="msapplication-config" content="/assets/img/icons/browserconfig.xml?v=qA3OXqyw77">
  <meta name="theme-color" content="#ffffff">

  
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-TCVFBKF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'GTM-TCVFBKF');
</script>

  

  <!-- Critical CSS Inline -->
  <style class="inlineCSS">
    h1{color:#313237;margin-top:0;margin-bottom:.5rem}.dark-bg{background-color:#19d319}@media (min-width:48em){.post-card{width:48.4375%;margin-right:3.125%}.post-card:last-of-type,.post-card:nth-child(2n+2){margin-right:0}}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}header,nav,section{display:block}h1{font-size:2em;margin:.67em 0}figure,main{display:block}figure{margin:1em 40px}a{background-color:transparent;-webkit-text-decoration-skip:objects}img{border-style:none}svg:not(:root){overflow:hidden}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}body{-webkit-overflow-scrolling:touch}*,::after,::before{-webkit-box-sizing:inherit;box-sizing:inherit}.site{display:-webkit-box;display:-ms-flexbox;display:flex;min-height:100vh;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.site__content{-webkit-box-flex:1;-ms-flex:1;flex:1}img{max-width:100%;height:auto;width:auto;vertical-align:middle}figure{margin:0}body{background-color:#fff;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Hiragino Sans GB","Microsoft YaHei","WenQuanYi Micro Hei",sans-serif;font-size:1rem;line-height:1.5;color:#343851;-webkit-font-smoothing:antialiased;-webkit-text-size-adjust:100%}p{margin-top:0;margin-bottom:1.25rem}h1,h2{color:#313237;margin-top:0;margin-bottom:.5rem}a{color:#277cea;text-decoration:none;border-bottom:1px dashed #277cea}.blur{background:#fff;filter:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg"><filter id="filter"><feGaussianBlur stdDeviation="16" /></filter></svg>#filter');-webkit-filter:blur(1rem);filter:blur(1rem)}.container{padding:0 20px}@media (min-width:0){.container{max-width:auto;margin:0 auto}}@media (min-width:36em){.container{max-width:540px;margin:0 auto}}@media (min-width:48em){.container{max-width:720px;margin:0 auto}}@media (min-width:62em){.container{max-width:960px;margin:0 auto}}@media (min-width:75em){.container{max-width:1170px;margin:0 auto}}.header{background-color:#fff;color:#343851;position:absolute;z-index:4;width:100%;top:0;left:0;will-change:transform;-webkit-transform:translateY(0);transform:translateY(0)}.header a{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom:0}.header__logo{display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;overflow:hidden;padding:19px 0;margin-right:1.25rem;outline:0;border-bottom:0;color:#313237}.header__logo .header__logo--container{width:58px}.header__logo .header__logo--container .logo{fill:currentColor}.header__inner{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:3.75em;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.header__links{padding-bottom:.5rem;display:none;position:absolute;top:3.75em;left:0;width:100%;height:auto;background:#fff}.header__link{color:#343851;padding:.938rem 0;border-top:1px solid #ededed}.header__toggle{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:44px;height:100%;background-color:transparent;padding-left:1.25rem}.header__toggle span{display:block;position:relative;margin-top:4px;background-color:#343851;width:100%;height:2px;border-radius:1px}.header__toggle span:first-child{margin-top:0}@media (min-width:62em){.header__toggle{display:none;visibility:hidden}.header__links{position:static;padding:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;visibility:visible;width:auto;height:100%}.header__links-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;padding:0}.header__link{position:relative;padding:.938rem 1rem;border:0;height:100%}.header__link::after{content:"";display:block;position:absolute;left:0;bottom:0;height:3px;width:100%;-webkit-transform:scaleX(0);transform:scaleX(0);background:#277cea}}.post-card{display:block;position:relative;width:100%;min-height:250px;border-radius:4px;overflow:hidden;background-color:#fff;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.08);box-shadow:0 1px 3px rgba(0,0,0,.08);margin-bottom:2.25rem;border-bottom:0}@media (min-width:48em){.post-card{width:48.4375%;margin-right:3.125%}.post-card:nth-child(2n+2){margin-right:0}}@media (min-width:75em){.post-card{width:31.25%;margin-right:3.125%}.post-card:nth-child(2n+2){margin-right:3.125%}}.post-card__label{position:absolute;top:1.5rem;left:1.5rem;z-index:2}.post-card__thumb{margin:0;background:#fff;position:relative;overflow:hidden}.post-card__thumb::after{content:"";display:block;height:0;width:100%;padding-bottom:56.25%}.post-card__thumb>*{position:absolute;top:0;left:0;width:100%;height:100%;display:block}.post-card__inner{padding:1.875rem 1.25rem .625rem;color:#838c8d}.post-card__header{margin-bottom:.75rem}.post-card__header .post-card__meta{font-size:.875rem}.label{padding:0 10px;margin-bottom:1rem;display:inline-block;line-height:20px;font-size:.75rem;text-transform:uppercase;letter-spacing:1px;color:rgba(255,255,255,.8);border:2px solid rgba(255,255,255,.5);border-radius:100px}.hero{margin:3.75rem auto 0;min-height:16.25rem;width:100%;position:relative;background-color:#dde5ea;background-repeat:no-repeat;background-position:50%;background-size:cover}@media (min-width:62em){.hero{margin:0 auto;height:36em}}.hero::before{position:absolute;display:block;content:"";top:0;left:0;width:100%;height:100%;background:rgba(52,56,81,.8)}.hero__wrap{position:absolute;margin:auto;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);text-align:center;color:rgba(255,255,255,.8);width:100%;max-width:90%;z-index:1}.hero__wrap .hero__title{font-size:1.8em;color:#fff}.blog{background-color:#f9f9f9}.post-list{padding-top:2.5em;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-flex:1;-ms-flex:1 0 auto;flex:1 0 auto}@media (min-width:48em){.hero__wrap{max-width:40em}.hero__wrap .hero__title{padding:1rem 0;font-size:2.625em;line-height:3.125rem}.post-list{padding-top:5em}}
  </style>

  <!-- Main CSS -->
  <link rel="preload" href="/assets/css/main.css" as="style" onload="this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="/assets/css/main.css"></noscript>

  <script type="text/javascript">
    /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
(function(w){"use strict";if(!w.loadCSS){w.loadCSS=function(){}}
var rp=loadCSS.relpreload={};rp.support=(function(){var ret;try{ret=w.document.createElement("link").relList.supports("preload")}catch(e){ret=!1}
return function(){return ret}})();rp.bindMediaToggle=function(link){var finalMedia=link.media||"all";function enableStylesheet(){link.media=finalMedia}
if(link.addEventListener){link.addEventListener("load",enableStylesheet)}else if(link.attachEvent){link.attachEvent("onload",enableStylesheet)}
setTimeout(function(){link.rel="stylesheet";link.media="only x"});setTimeout(enableStylesheet,3000)};rp.poly=function(){if(rp.support()){return}
var links=w.document.getElementsByTagName("link");for(var i=0;i<links.length;i++){var link=links[i];if(link.rel==="preload"&&link.getAttribute("as")==="style"&&!link.getAttribute("data-loadcss")){link.setAttribute("data-loadcss",!0);rp.bindMediaToggle(link)}}};if(!rp.support()){rp.poly();var run=w.setInterval(rp.poly,500);if(w.addEventListener){w.addEventListener("load",function(){rp.poly();w.clearInterval(run)})}else if(w.attachEvent){w.attachEvent("onload",function(){rp.poly();w.clearInterval(run)})}}
if(typeof exports!=="undefined"){exports.loadCSS=loadCSS}
else{w.loadCSS=loadCSS}}(typeof global!=="undefined"?global:this))

  </script>

  <!-- MathJax -->
  <script type="text/javascript" id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>
</head>


  <body class="site" itemscope itemtype="https://schema.org/WebPage">

    
      <!-- Google Tag Manager (noscript) -->
      <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TCVFBKF"
                height="0" width="0" style="display:none;visibility:hidden"></iframe>
      </noscript>
      <!-- End Google Tag Manager -->
    

    <header class="header" itemscope itemtype="http://schema.org/SiteNavigationElement" aria-label="Main navigation">
  <div class="container">
    <div class="header__inner">

      <!-- Logo -->
      <a class="header__logo" href="/">
        <div class="header__logo--container">
          <?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
<g>
	<path d="M18.121,9.88l-7.832-7.836c-0.155-0.158-0.428-0.155-0.584,0L1.842,9.913c-0.262,0.263-0.073,0.705,0.292,0.705h2.069v7.042c0,0.227,0.187,0.414,0.414,0.414h3.725c0.228,0,0.414-0.188,0.414-0.414v-3.313h2.483v3.313c0,0.227,0.187,0.414,0.413,0.414h3.726c0.229,0,0.414-0.188,0.414-0.414v-7.042h2.068h0.004C18.331,10.617,18.389,10.146,18.121,9.88 M14.963,17.245h-2.896v-3.313c0-0.229-0.186-0.415-0.414-0.415H8.342c-0.228,0-0.414,0.187-0.414,0.415v3.313H5.032v-6.628h9.931V17.245z M3.133,9.79l6.864-6.868l6.867,6.868H3.133z"></path>

	
	
</g>
</svg>

        </div>
      </a>

      <!-- Navigation Links -->
      <nav class="header__links">
        <div class="container header__links-wrapper">
          
            <a class="header__link" href="/" itemprop="url">
              <span itemprop="name">Home</span>
            </a>
          
            <a class="header__link" href="/categories" itemprop="url">
              <span itemprop="name">Posts</span>
            </a>
          
            <a class="header__link" href="/avatars" itemprop="url">
              <span itemprop="name">Make Avatars</span>
            </a>
          
            <a class="header__link" href="/converter.html" itemprop="url">
              <span itemprop="name">Free PNG Converter</span>
            </a>
          
            <a class="header__link" href="/about" itemprop="url">
              <span itemprop="name">About</span>
            </a>
          
            <a class="header__link" href="/contact" itemprop="url">
              <span itemprop="name">Contact</span>
            </a>
          
            <a class="header__link" href="/privacy" itemprop="url">
              <span itemprop="name">Privacy Policy</span>
            </a>
          
            <a class="header__link" href="/disclaimer" itemprop="url">
              <span itemprop="name">Disclaimer</span>
            </a>
          
        </div>
      </nav>

      <!-- Language Switcher (Only for posts with 'lang') -->
      

      <!-- Mobile Menu Toggle -->
      <div class="header__toggle" aria-label="Toggle navigation">
        <span></span>
        <span></span>
        <span></span>
      </div>

    </div>
  </div>

  <style>
    .header__lang-switcher {
      display: inline-flex;
      gap: 0.5rem;
      align-items: center;
      font-size: 1.3rem; /* emoji size */
      margin-left: 1rem;
    }

    .header__lang-switcher .lang-flag.active {
      text-decoration: underline;
      text-underline-offset: 4px; /* spacing under emoji */
    }

    .header__lang-switcher .lang-flag.disabled {
      filter: grayscale(100%);
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* Optional: spacing on mobile if needed */
    @media (max-width: 768px) {
      .header__lang-switcher {
        margin-left: 0;
      }
    }
  </style>

</header>


    
      <div class="hero lazyload"
           data-bg="https://www.pyshine.com/assets/img/posts/20251109-cherryblossom.jpg"
           role="img"
           aria-label="Animated Flower Tree with Python Turtle – Growing &...">
    
        <div class="hero__wrap">

          
            <div class="hero__categories">
              
            </div>
          

          <h1 class="hero__title" itemprop="headline">Animated Flower Tree with Python Turtle – Growing &...</h1>

          <p class="hero__meta">
            <time datetime="2025-11-06T00:00:00+00:00" itemprop="datePublished">
              06 Nov 2025
            </time>
            &nbsp;·&nbsp;
            
            <span itemprop="timeRequired">
              
                27 mins read
              
            </span>
          </p>
        </div>
      </div>

    <main class="site__content" role="main">
      <div class="container post-layout">

        <!-- SIDEBAR TOC -->
        <aside class="post-toc" id="post-toc">
          <h3 class="no-toc">Contents</h3>
          <nav id="toc-list"></nav>
        </aside>

        <!-- MAIN CONTENT -->
        <article class="post-content"
                 itemprop="articleBody"
                 itemscope itemtype="https://schema.org/Article">

          <!-- INLINE TOC -->
          <div id="inline-toc" class="inline-toc-box">
            <h3 class="no-toc">Contents</h3>
            <nav id="inline-toc-list"></nav>
          </div>

          <h1 id="animated-flower-tree-with-python-turtle--growing--falling-flowers">Animated Flower Tree with Python Turtle – Growing &amp; Falling Flowers</h1>

<h2 id="create-stunning-animated-nature-scenes-with-pythons-built-in-turtle-module">Create Stunning Animated Nature Scenes with Python’s Built-in Turtle Module</h2>

<p>Python’s Turtle graphics module isn’t just for simple shapes – it can create beautiful, complex animations with physics simulations! This tutorial shows you how to build an <strong>animated flowering tree</strong> where blossoms gradually grow on branches and then gently fall with realistic physics. You’ll learn recursive tree generation, color blending, growth animation, and basic physics simulation – all with pure Python.</p>

<div class="video-container">
  <iframe width="560" height="315" src="https://www.youtube.com/embed/r2zzJFscM3M" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="">
  </iframe>
</div>

<hr />

<h2 id="overview">Overview</h2>

<p>This project creates a <strong>procedurally generated tree</strong> with these animated features:</p>

<ol>
  <li><strong>Recursive tree generation</strong> with random branching angles</li>
  <li><strong>Color blending</strong> from brown trunk to green branches</li>
  <li><strong>Gradual flower growth</strong> animation</li>
  <li><strong>Realistic flower falling</strong> with gravity and wind physics</li>
  <li><strong>Natural swaying motion</strong> for attached flowers</li>
</ol>

<hr />

<h2 id="what-youll-learn">What You’ll Learn</h2>

<ul>
  <li><strong>Recursive algorithms</strong> for tree generation</li>
  <li><strong>Turtle graphics</strong> advanced techniques</li>
  <li><strong>Color theory</strong> and RGB blending</li>
  <li><strong>Animation principles</strong> with growth stages</li>
  <li><strong>Basic physics simulation</strong> (gravity, wind, rotation)</li>
  <li><strong>Object-oriented thinking</strong> with flower data structures</li>
</ul>

<hr />

<h2 id="step-1-setting-up-the-environment">Step 1: Setting Up the Environment</h2>

<p>We start by importing necessary modules and setting up configuration constants.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">turtle</span> 
<span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">random</span><span class="p">,</span> <span class="n">uniform</span><span class="p">,</span> <span class="n">seed</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="c1">## Settings 
</span><span class="n">W</span><span class="p">,</span> <span class="n">H</span> <span class="o">=</span> <span class="mi">420</span><span class="p">,</span> <span class="mi">420</span>          <span class="c1"># Window dimensions
</span><span class="n">DEPTH</span> <span class="o">=</span> <span class="mi">7</span>                <span class="c1"># Recursion depth for tree
</span><span class="n">LENGTH</span> <span class="o">=</span> <span class="mi">80</span>              <span class="c1"># Initial branch length
</span><span class="n">BA</span> <span class="o">=</span> <span class="mi">25</span>                  <span class="c1"># Base branching angle
</span><span class="n">GRAVITY</span> <span class="o">=</span> <span class="mf">1.5</span>            <span class="c1"># Physics constants
</span><span class="n">WIND</span> <span class="o">=</span> <span class="mf">2.0</span>               <span class="c1"># Wind strength
</span><span class="n">FPS</span> <span class="o">=</span> <span class="mf">0.02</span>               <span class="c1"># Animation frame delay
</span><span class="n">seed</span><span class="p">(</span><span class="mi">192</span><span class="p">)</span>                <span class="c1"># Seed for reproducible randomness
</span>
<span class="n">branch_params</span> <span class="o">=</span> <span class="p">[]</span>

</code></pre></div></div>

<p>Key Settings Explained:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">DEPTH</code> Controls how detailed the tree is (higher = more branches)</li>
  <li><code class="language-plaintext highlighter-rouge">LENGTH</code> Starting branch length in pixels</li>
  <li><code class="language-plaintext highlighter-rouge">GRAVITY/WIND</code> Physics parameters for falling animation</li>
  <li><code class="language-plaintext highlighter-rouge">seed(192)</code> Ensures the same tree generates every time</li>
</ul>

<hr />

<h2 id="step-2-generating-the-tree-structure">Step 2: Generating the Tree Structure</h2>

<p>We use recursion to generate tree parameters before drawing.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">record_my_params</span><span class="p">(</span><span class="n">length</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="s">"""Recursively generate tree branch parameters"""</span>
    <span class="k">if</span> <span class="n">depth</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span>
  
    <span class="c1">## Randomize angles and lengths for natural look
</span>    <span class="n">a1</span> <span class="o">=</span> <span class="n">uniform</span><span class="p">(</span><span class="n">BA</span> <span class="o">-</span> <span class="mi">10</span><span class="p">,</span> <span class="n">BA</span> <span class="o">+</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">a2</span> <span class="o">=</span> <span class="n">uniform</span><span class="p">(</span><span class="n">BA</span> <span class="o">-</span> <span class="mi">10</span><span class="p">,</span> <span class="n">BA</span> <span class="o">+</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">l1</span> <span class="o">=</span> <span class="n">length</span> <span class="o">*</span> <span class="n">uniform</span><span class="p">(</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">)</span>  <span class="c1"># Child branches are shorter
</span>    <span class="n">l2</span> <span class="o">=</span> <span class="n">length</span> <span class="o">*</span> <span class="n">uniform</span><span class="p">(</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">)</span>
  
    <span class="n">branch_params</span><span class="p">.</span><span class="n">append</span><span class="p">((</span><span class="n">a1</span><span class="p">,</span> <span class="n">a2</span><span class="p">,</span> <span class="n">l1</span><span class="p">,</span> <span class="n">l2</span><span class="p">,</span> <span class="n">level</span><span class="p">))</span>
  
    <span class="c1">## Recursive calls for sub-branches
</span>    <span class="n">record_my_params</span><span class="p">(</span><span class="n">l1</span><span class="p">,</span> <span class="n">depth</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">record_my_params</span><span class="p">(</span><span class="n">l2</span><span class="p">,</span> <span class="n">depth</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

<span class="n">record_my_params</span><span class="p">(</span><span class="n">LENGTH</span><span class="p">,</span> <span class="n">DEPTH</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">param_gen</span><span class="p">():</span>
    <span class="s">"""Generator for branch parameters"""</span>
    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">branch_params</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">p</span>

</code></pre></div></div>

<p>How Recursion Works:</p>

<ul>
  <li>Each branch splits into two sub-branches</li>
  <li>Sub-branches have randomized angles and lengths</li>
  <li>Process continues until depth reaches 0</li>
  <li>Parameters are stored for consistent drawing</li>
</ul>

<hr />

<h2 id="step-3-color-blending-for-natural-look">Step 3: Color Blending for Natural Look</h2>

<p>We blend colors from brown (trunk) to green (branches) based on branch level.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">blend</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
    <span class="s">"""Linear color interpolation between two RGB colors"""</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="n">c1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">c2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">c1</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">t</span><span class="p">,</span>
        <span class="n">c1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">c2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">c1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="n">t</span><span class="p">,</span>
        <span class="n">c1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">c2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">c1</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">*</span> <span class="n">t</span><span class="p">,</span>
    <span class="p">)</span>

<span class="c1">## Usage in drawing:
</span><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="n">DEPTH</span> <span class="o">-</span> <span class="n">depth</span><span class="p">)</span> <span class="o">/</span> <span class="n">DEPTH</span>  <span class="c1"># Normalized position (0=trunk, 1=tip)
</span><span class="n">brown</span> <span class="o">=</span> <span class="p">(</span><span class="mi">139</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span> <span class="mi">69</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span> <span class="mi">19</span><span class="o">/</span><span class="mi">255</span><span class="p">)</span>
<span class="n">green</span> <span class="o">=</span> <span class="p">(</span><span class="mi">34</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span> <span class="mi">139</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span> <span class="mi">34</span><span class="o">/</span><span class="mi">255</span><span class="p">)</span>
<span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">blend</span><span class="p">(</span><span class="n">brown</span><span class="p">,</span> <span class="n">green</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>

</code></pre></div></div>

<h3 id="color-theory">Color Theory:</h3>

<ul>
  <li>Brown trunk: (139/255, 69/255, 19/255) - earthy, strong</li>
  <li>Green tips: (34/255, 139/255, 34/255) - vibrant, leafy</li>
  <li>Linear interpolation: Creates smooth color transitions</li>
</ul>

<hr />

<h2 id="step-4-drawing-flowers-with-growth-animation">Step 4: Drawing Flowers with Growth Animation</h2>

<p>Flowers are drawn as pentagram shapes with gradual growth animation.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">draw_flower_at_position</span><span class="p">(</span><span class="n">pen</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">growth_factor</span><span class="o">=</span><span class="mf">1.0</span><span class="p">):</span>
    <span class="s">"""Draw a flower at specific position with growth animation"""</span>
    <span class="n">pen</span><span class="p">.</span><span class="n">penup</span><span class="p">()</span>
    <span class="n">pen</span><span class="p">.</span><span class="n">goto</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    <span class="n">pen</span><span class="p">.</span><span class="n">setheading</span><span class="p">(</span><span class="n">rotation</span><span class="p">)</span>
    <span class="n">pen</span><span class="p">.</span><span class="n">pendown</span><span class="p">()</span>
  
    <span class="c1">## Apply growth factor to size
</span>    <span class="n">current_size</span> <span class="o">=</span> <span class="n">size</span> <span class="o">*</span> <span class="n">growth_factor</span>
    <span class="k">if</span> <span class="n">current_size</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">:</span>  <span class="c1"># Don't draw if too small
</span>        <span class="k">return</span>
      
    <span class="n">pen</span><span class="p">.</span><span class="n">fillcolor</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
    <span class="n">pen</span><span class="p">.</span><span class="n">pencolor</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
    <span class="n">pen</span><span class="p">.</span><span class="n">begin_fill</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
        <span class="n">pen</span><span class="p">.</span><span class="n">circle</span><span class="p">(</span><span class="n">current_size</span><span class="p">,</span> <span class="mi">72</span><span class="p">)</span>  <span class="c1"># Draw petal
</span>        <span class="n">pen</span><span class="p">.</span><span class="n">left</span><span class="p">(</span><span class="mi">144</span><span class="p">)</span>                 <span class="c1"># Turn for next petal
</span>    <span class="n">pen</span><span class="p">.</span><span class="n">end_fill</span><span class="p">()</span>
  
    <span class="c1">## Draw flower center
</span>    <span class="n">pen</span><span class="p">.</span><span class="n">penup</span><span class="p">()</span>
    <span class="n">pen</span><span class="p">.</span><span class="n">goto</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    <span class="n">pen</span><span class="p">.</span><span class="n">dot</span><span class="p">(</span><span class="n">current_size</span> <span class="o">*</span> <span class="mf">0.6</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">animate_flower_growth</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">tree_pen</span><span class="p">,</span> <span class="n">flower_positions</span><span class="p">):</span>
    <span class="s">"""Animate flowers growing on the tree"""</span>
    <span class="n">flower_pen</span> <span class="o">=</span> <span class="n">turtle</span><span class="p">.</span><span class="n">Turtle</span><span class="p">()</span>
    <span class="n">flower_pen</span><span class="p">.</span><span class="n">hideturtle</span><span class="p">()</span>
    <span class="n">flower_pen</span><span class="p">.</span><span class="n">speed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">flower_pen</span><span class="p">.</span><span class="n">penup</span><span class="p">()</span>
  
    <span class="n">growth_stages</span> <span class="o">=</span> <span class="mi">20</span>  <span class="c1"># Number of growth stages
</span>  
    <span class="k">for</span> <span class="n">stage</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">growth_stages</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">flower_pen</span><span class="p">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="n">growth_factor</span> <span class="o">=</span> <span class="n">stage</span> <span class="o">/</span> <span class="n">growth_stages</span>  <span class="c1"># 0 to 1
</span>      
        <span class="k">for</span> <span class="n">flower</span> <span class="ow">in</span> <span class="n">flower_positions</span><span class="p">:</span>
            <span class="n">draw_flower_at_position</span><span class="p">(</span>
                <span class="n">flower_pen</span><span class="p">,</span> 
                <span class="n">flower</span><span class="p">[</span><span class="s">'x'</span><span class="p">],</span> 
                <span class="n">flower</span><span class="p">[</span><span class="s">'y'</span><span class="p">],</span> 
                <span class="n">flower</span><span class="p">[</span><span class="s">'color'</span><span class="p">],</span> 
                <span class="n">flower</span><span class="p">[</span><span class="s">'size'</span><span class="p">],</span> 
                <span class="n">growth_factor</span><span class="o">=</span><span class="n">growth_factor</span>
            <span class="p">)</span>
      
        <span class="n">screen</span><span class="p">.</span><span class="n">update</span><span class="p">()</span>
        <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">FPS</span><span class="p">)</span>

</code></pre></div></div>

<h3 id="growth-animation-features">Growth Animation Features:</h3>

<ul>
  <li>20 growth stages for smooth appearance</li>
  <li>Size scaling from 0% to 100%</li>
  <li>Separate turtle for flowers vs tree</li>
  <li>Controlled frame rate for smooth animation</li>
</ul>

<hr />

<h3 id="step-5-physics-for-falling-flowers">Step 5: Physics for Falling Flowers</h3>

<p>Realistic falling animation with gravity, wind, and rotation physics.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">make_flowers_fall</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">tree_pen</span><span class="p">,</span> <span class="n">flower_pen</span><span class="p">,</span> <span class="n">flower_positions</span><span class="p">):</span>
    <span class="s">"""Animate flowers falling with physics simulation"""</span>
  
    <span class="n">velocities</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># Store velocity for each flower
</span>    <span class="n">rotations</span> <span class="o">=</span> <span class="p">{}</span>   <span class="c1"># Store rotation for each flower
</span>  
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">flower_pen</span><span class="p">.</span><span class="n">clear</span><span class="p">()</span>
      
        <span class="c1">## Randomly detach flowers over time
</span>        <span class="k">for</span> <span class="n">flower</span> <span class="ow">in</span> <span class="n">flower_positions</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">flower</span><span class="p">[</span><span class="s">'attached'</span><span class="p">]</span> <span class="ow">and</span> <span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mf">0.03</span><span class="p">:</span>
                <span class="n">flower</span><span class="p">[</span><span class="s">'attached'</span><span class="p">]</span> <span class="o">=</span> <span class="bp">False</span>
                <span class="n">flower_id</span> <span class="o">=</span> <span class="n">flower</span><span class="p">[</span><span class="s">'id'</span><span class="p">]</span>
              
                <span class="c1">## Initialize physics properties
</span>                <span class="n">velocities</span><span class="p">[</span><span class="n">flower_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="n">WIND</span><span class="p">,</span> <span class="n">WIND</span><span class="p">),</span>  <span class="c1"># Horizontal velocity (wind)
</span>                    <span class="o">-</span><span class="n">GRAVITY</span> <span class="o">*</span> <span class="n">uniform</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">)</span>  <span class="c1"># Vertical velocity
</span>                <span class="p">]</span>
                <span class="n">rotations</span><span class="p">[</span><span class="n">flower_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">)</span>  <span class="c1"># Initial rotation
</span>      
        <span class="c1">## Update falling flowers
</span>        <span class="k">for</span> <span class="n">flower</span> <span class="ow">in</span> <span class="n">flower_positions</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">flower</span><span class="p">[</span><span class="s">'attached'</span><span class="p">]:</span>
                <span class="n">flower_id</span> <span class="o">=</span> <span class="n">flower</span><span class="p">[</span><span class="s">'id'</span><span class="p">]</span>
                <span class="n">vx</span><span class="p">,</span> <span class="n">vy</span> <span class="o">=</span> <span class="n">velocities</span><span class="p">[</span><span class="n">flower_id</span><span class="p">]</span>
              
                <span class="c1">## Apply physics
</span>                <span class="n">flower</span><span class="p">[</span><span class="s">'x'</span><span class="p">]</span> <span class="o">+=</span> <span class="n">vx</span>
                <span class="n">flower</span><span class="p">[</span><span class="s">'y'</span><span class="p">]</span> <span class="o">+=</span> <span class="n">vy</span>
                <span class="n">vy</span> <span class="o">-=</span> <span class="n">GRAVITY</span> <span class="o">*</span> <span class="mf">0.08</span>  <span class="c1"># Gravity acceleration
</span>              
                <span class="c1">## Air resistance and random movement
</span>                <span class="n">vx</span> <span class="o">*=</span> <span class="mf">0.998</span>
                <span class="n">vy</span> <span class="o">*=</span> <span class="mf">0.998</span>
                <span class="n">vx</span> <span class="o">+=</span> <span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mf">0.008</span><span class="p">,</span> <span class="mf">0.008</span><span class="p">)</span>
              
                <span class="c1">## Update rotation based on horizontal movement
</span>                <span class="n">rotations</span><span class="p">[</span><span class="n">flower_id</span><span class="p">]</span> <span class="o">+=</span> <span class="n">vx</span> <span class="o">*</span> <span class="mi">3</span>
              
                <span class="c1">## Ground collision
</span>                <span class="k">if</span> <span class="n">flower</span><span class="p">[</span><span class="s">'y'</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="o">-</span><span class="n">H</span><span class="o">//</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">20</span><span class="p">:</span>
                    <span class="n">flower</span><span class="p">[</span><span class="s">'y'</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">H</span><span class="o">//</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">20</span>  <span class="c1"># Stop at ground
</span>                    <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">vy</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.3</span><span class="p">:</span>
                        <span class="n">vy</span> <span class="o">=</span> <span class="o">-</span><span class="n">vy</span> <span class="o">*</span> <span class="mf">0.2</span>  <span class="c1"># Bounce
</span>                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">vy</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Stop moving
</span>              
                <span class="n">velocities</span><span class="p">[</span><span class="n">flower_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">vx</span><span class="p">,</span> <span class="n">vy</span><span class="p">]</span>
              
                <span class="c1">## Draw with current rotation
</span>                <span class="n">draw_flower_at_position</span><span class="p">(</span>
                    <span class="n">flower_pen</span><span class="p">,</span> 
                    <span class="n">flower</span><span class="p">[</span><span class="s">'x'</span><span class="p">],</span> 
                    <span class="n">flower</span><span class="p">[</span><span class="s">'y'</span><span class="p">],</span> 
                    <span class="n">flower</span><span class="p">[</span><span class="s">'color'</span><span class="p">],</span> 
                    <span class="n">flower</span><span class="p">[</span><span class="s">'size'</span><span class="p">],</span> 
                    <span class="n">rotations</span><span class="p">[</span><span class="n">flower_id</span><span class="p">]</span>
                <span class="p">)</span>
      
        <span class="n">screen</span><span class="p">.</span><span class="n">update</span><span class="p">()</span>
        <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">FPS</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="physics-simulation-elements">Physics Simulation Elements:</h3>

<ul>
  <li>Gravity: Constant downward acceleration</li>
  <li>Wind: Random horizontal movement</li>
  <li>Rotation: Flowers spin as they fall</li>
  <li>Air resistance: Velocity gradually decreases</li>
  <li>Ground collision: Realistic bouncing and stopping</li>
  <li>Random variations: Natural, non-uniform movement</li>
</ul>

<hr />

<h2 id="complete-code">Complete Code</h2>

<style>
  .copy-code-button {
	box-shadow:inset 0px 1px 0px 0px #bbdaf7;
	background:linear-gradient(to bottom, #79bbff 5%, #378de5 100%);
	background-color:#79bbff;
	border-radius:6px;
	border:1px solid #84bbf3;
	display:inline-block;
	cursor:pointer;
	color:#ffffff;
	font-family:Arial;
	font-size:15px;
	font-weight:bold;
	padding:6px 24px;
	text-decoration:none;
	text-shadow:0px 1px 0px #528ecc;
}
.copy-code-button:hover {
	background:linear-gradient(to bottom, #378de5 5%, #79bbff 100%);
	background-color:#378de5;
}
.copy-code-button:active {
	position:relative;
	top:1px;
}
</style>

<div class="code-header">
  <button class="copy-code-button">
    Copy code to clipboard
  </button>
</div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## source code at www.pyshine.com
</span><span class="kn">import</span> <span class="nn">turtle</span> 
<span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">random</span><span class="p">,</span> <span class="n">uniform</span><span class="p">,</span> <span class="n">seed</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="c1">## Settings 
</span><span class="n">W</span><span class="p">,</span> <span class="n">H</span> <span class="o">=</span> <span class="mi">420</span><span class="p">,</span> <span class="mi">420</span>
<span class="n">DEPTH</span> <span class="o">=</span> <span class="mi">7</span>
<span class="n">LENGTH</span> <span class="o">=</span> <span class="mi">80</span>
<span class="n">BA</span> <span class="o">=</span> <span class="mi">25</span>
<span class="n">GRAVITY</span> <span class="o">=</span> <span class="mf">1.5</span>
<span class="n">WIND</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="n">FPS</span> <span class="o">=</span> <span class="mf">0.02</span>
<span class="n">seed</span><span class="p">(</span><span class="mi">192</span><span class="p">)</span>

<span class="n">branch_params</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">def</span> <span class="nf">record_my_params</span><span class="p">(</span><span class="n">length</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">depth</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">a1</span> <span class="o">=</span> <span class="n">uniform</span><span class="p">(</span><span class="n">BA</span> <span class="o">-</span> <span class="mi">10</span><span class="p">,</span> <span class="n">BA</span> <span class="o">+</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">a2</span> <span class="o">=</span> <span class="n">uniform</span><span class="p">(</span><span class="n">BA</span> <span class="o">-</span> <span class="mi">10</span><span class="p">,</span> <span class="n">BA</span> <span class="o">+</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">l1</span> <span class="o">=</span> <span class="n">length</span> <span class="o">*</span> <span class="n">uniform</span><span class="p">(</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">)</span>
    <span class="n">l2</span> <span class="o">=</span> <span class="n">length</span> <span class="o">*</span> <span class="n">uniform</span><span class="p">(</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">)</span>
    <span class="n">branch_params</span><span class="p">.</span><span class="n">append</span><span class="p">((</span><span class="n">a1</span><span class="p">,</span> <span class="n">a2</span><span class="p">,</span> <span class="n">l1</span><span class="p">,</span> <span class="n">l2</span><span class="p">,</span> <span class="n">level</span><span class="p">))</span>
    <span class="n">record_my_params</span><span class="p">(</span><span class="n">l1</span><span class="p">,</span> <span class="n">depth</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">record_my_params</span><span class="p">(</span><span class="n">l2</span><span class="p">,</span> <span class="n">depth</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

<span class="n">record_my_params</span><span class="p">(</span><span class="n">LENGTH</span><span class="p">,</span> <span class="n">DEPTH</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">param_gen</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">branch_params</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">p</span>

<span class="k">def</span> <span class="nf">blend</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="n">c1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">c2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">c1</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">t</span><span class="p">,</span>
        <span class="n">c1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">c2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">c1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="n">t</span><span class="p">,</span>
        <span class="n">c1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">c2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">c1</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">*</span> <span class="n">t</span><span class="p">,</span>
    <span class="p">)</span>

<span class="k">def</span> <span class="nf">draw_flower_at_position</span><span class="p">(</span><span class="n">pen</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">growth_factor</span><span class="o">=</span><span class="mf">1.0</span><span class="p">):</span>
    <span class="s">"""Draw a flower at a specific position with growth animation"""</span>
    <span class="n">pen</span><span class="p">.</span><span class="n">penup</span><span class="p">()</span>
    <span class="n">pen</span><span class="p">.</span><span class="n">goto</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    <span class="n">pen</span><span class="p">.</span><span class="n">setheading</span><span class="p">(</span><span class="n">rotation</span><span class="p">)</span>
    <span class="n">pen</span><span class="p">.</span><span class="n">pendown</span><span class="p">()</span>
  
    <span class="c1">## Apply growth factor to size
</span>    <span class="n">current_size</span> <span class="o">=</span> <span class="n">size</span> <span class="o">*</span> <span class="n">growth_factor</span>
    <span class="k">if</span> <span class="n">current_size</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">:</span>  <span class="c1"># Don't draw if too small
</span>        <span class="k">return</span>
      
    <span class="n">pen</span><span class="p">.</span><span class="n">fillcolor</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
    <span class="n">pen</span><span class="p">.</span><span class="n">pencolor</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
    <span class="n">pen</span><span class="p">.</span><span class="n">begin_fill</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
        <span class="n">pen</span><span class="p">.</span><span class="n">circle</span><span class="p">(</span><span class="n">current_size</span><span class="p">,</span> <span class="mi">72</span><span class="p">)</span>
        <span class="n">pen</span><span class="p">.</span><span class="n">left</span><span class="p">(</span><span class="mi">144</span><span class="p">)</span>
    <span class="n">pen</span><span class="p">.</span><span class="n">end_fill</span><span class="p">()</span>
    <span class="n">pen</span><span class="p">.</span><span class="n">penup</span><span class="p">()</span>
    <span class="n">pen</span><span class="p">.</span><span class="n">goto</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    <span class="n">pen</span><span class="p">.</span><span class="n">dot</span><span class="p">(</span><span class="n">current_size</span> <span class="o">*</span> <span class="mf">0.6</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">draw_tree_with_flowers</span><span class="p">():</span>
    <span class="n">screen</span> <span class="o">=</span> <span class="n">turtle</span><span class="p">.</span><span class="n">Screen</span><span class="p">()</span>
    <span class="n">screen</span><span class="p">.</span><span class="n">setup</span><span class="p">(</span><span class="n">W</span><span class="p">,</span> <span class="n">H</span><span class="p">)</span>
    <span class="n">screen</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">"Turtle Tree with Growing and Falling Flowers"</span><span class="p">)</span>
    <span class="n">screen</span><span class="p">.</span><span class="n">bgcolor</span><span class="p">(</span><span class="s">"black"</span><span class="p">)</span>
    <span class="n">screen</span><span class="p">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>  <span class="c1"># Turn off animation for initial drawing
</span>  
    <span class="c1">## Create main tree pen
</span>    <span class="n">tree_pen</span> <span class="o">=</span> <span class="n">turtle</span><span class="p">.</span><span class="n">Turtle</span><span class="p">()</span>
    <span class="n">tree_pen</span><span class="p">.</span><span class="n">hideturtle</span><span class="p">()</span>
    <span class="n">tree_pen</span><span class="p">.</span><span class="n">speed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">tree_pen</span><span class="p">.</span><span class="n">left</span><span class="p">(</span><span class="mi">90</span><span class="p">)</span>
    <span class="n">tree_pen</span><span class="p">.</span><span class="n">penup</span><span class="p">()</span>
    <span class="n">tree_pen</span><span class="p">.</span><span class="n">goto</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="n">H</span><span class="o">//</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">30</span><span class="p">)</span>
    <span class="n">tree_pen</span><span class="p">.</span><span class="n">pendown</span><span class="p">()</span>

    <span class="c1">## Store flower positions during tree drawing
</span>    <span class="n">flower_positions</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">draw_branch</span><span class="p">(</span><span class="n">length</span><span class="p">,</span> <span class="n">depth</span><span class="p">):</span>
        <span class="s">"""Recursively draw tree branches and record flower positions."""</span>
        <span class="k">if</span> <span class="n">depth</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1">## Record leaf/flower position but don't draw yet
</span>            <span class="n">size</span> <span class="o">=</span> <span class="n">uniform</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
            <span class="n">color</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">uniform</span><span class="p">(</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">),</span> <span class="n">uniform</span><span class="p">(</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">))</span>
            <span class="n">flower_positions</span><span class="p">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s">'x'</span><span class="p">:</span> <span class="n">tree_pen</span><span class="p">.</span><span class="n">xcor</span><span class="p">(),</span>
                <span class="s">'y'</span><span class="p">:</span> <span class="n">tree_pen</span><span class="p">.</span><span class="n">ycor</span><span class="p">(),</span>
                <span class="s">'color'</span><span class="p">:</span> <span class="n">color</span><span class="p">,</span>
                <span class="s">'size'</span><span class="p">:</span> <span class="n">size</span><span class="p">,</span>
                <span class="s">'attached'</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
                <span class="s">'grown'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>  <span class="c1"># Flower hasn't grown yet
</span>                <span class="s">'id'</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">flower_positions</span><span class="p">)</span>  <span class="c1"># Unique ID for each flower
</span>            <span class="p">})</span>
            <span class="k">return</span>
          
        <span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="n">DEPTH</span> <span class="o">-</span> <span class="n">depth</span><span class="p">)</span> <span class="o">/</span> <span class="n">DEPTH</span>
        <span class="n">brown</span> <span class="o">=</span> <span class="p">(</span><span class="mi">139</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span> <span class="mi">69</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span> <span class="mi">19</span><span class="o">/</span><span class="mi">255</span><span class="p">)</span>
        <span class="n">green</span> <span class="o">=</span> <span class="p">(</span><span class="mi">34</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span> <span class="mi">139</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span> <span class="mi">34</span><span class="o">/</span><span class="mi">255</span><span class="p">)</span>
        <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">blend</span><span class="p">(</span><span class="n">brown</span><span class="p">,</span> <span class="n">green</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
        <span class="n">tree_pen</span><span class="p">.</span><span class="n">pencolor</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
        <span class="n">tree_pen</span><span class="p">.</span><span class="n">pensize</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">depth</span> <span class="o">/</span> <span class="mi">2</span><span class="p">))</span>
        <span class="n">tree_pen</span><span class="p">.</span><span class="n">forward</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
      
        <span class="k">if</span> <span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mf">0.12</span> <span class="ow">and</span> <span class="n">depth</span> <span class="o">&lt;</span> <span class="n">DEPTH</span> <span class="o">-</span> <span class="mi">2</span><span class="p">:</span>
            <span class="c1">## Record branch flower position but don't draw yet
</span>            <span class="n">size</span> <span class="o">=</span> <span class="n">uniform</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
            <span class="n">color</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">uniform</span><span class="p">(</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">),</span> <span class="n">uniform</span><span class="p">(</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">))</span>
            <span class="n">flower_positions</span><span class="p">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s">'x'</span><span class="p">:</span> <span class="n">tree_pen</span><span class="p">.</span><span class="n">xcor</span><span class="p">(),</span>
                <span class="s">'y'</span><span class="p">:</span> <span class="n">tree_pen</span><span class="p">.</span><span class="n">ycor</span><span class="p">(),</span>
                <span class="s">'color'</span><span class="p">:</span> <span class="n">color</span><span class="p">,</span>
                <span class="s">'size'</span><span class="p">:</span> <span class="n">size</span><span class="p">,</span>
                <span class="s">'attached'</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
                <span class="s">'grown'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>  <span class="c1"># Flower hasn't grown yet
</span>                <span class="s">'id'</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">flower_positions</span><span class="p">)</span>  <span class="c1"># Unique ID for each flower
</span>            <span class="p">})</span>
          
        <span class="k">try</span><span class="p">:</span>
            <span class="n">a1</span><span class="p">,</span> <span class="n">a2</span><span class="p">,</span> <span class="n">l1</span><span class="p">,</span> <span class="n">l2</span><span class="p">,</span> <span class="n">level</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">StopIteration</span><span class="p">:</span>
            <span class="k">return</span>
          
        <span class="n">tree_pen</span><span class="p">.</span><span class="n">left</span><span class="p">(</span><span class="n">a1</span><span class="p">)</span>
        <span class="n">draw_branch</span><span class="p">(</span><span class="n">l1</span><span class="p">,</span> <span class="n">depth</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">tree_pen</span><span class="p">.</span><span class="n">right</span><span class="p">(</span><span class="n">a1</span> <span class="o">+</span> <span class="n">a2</span><span class="p">)</span>
        <span class="n">draw_branch</span><span class="p">(</span><span class="n">l2</span><span class="p">,</span> <span class="n">depth</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">tree_pen</span><span class="p">.</span><span class="n">left</span><span class="p">(</span><span class="n">a2</span><span class="p">)</span>
        <span class="n">tree_pen</span><span class="p">.</span><span class="n">backward</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>

    <span class="c1">## Draw the initial tree structure (without flowers)
</span>    <span class="n">params</span> <span class="o">=</span> <span class="n">param_gen</span><span class="p">()</span>
    <span class="n">draw_branch</span><span class="p">(</span><span class="n">LENGTH</span><span class="p">,</span> <span class="n">DEPTH</span><span class="p">)</span>
  
    <span class="n">screen</span><span class="p">.</span><span class="n">update</span><span class="p">()</span>  <span class="c1"># Show the initial tree
</span>    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Tree structure complete. </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">flower_positions</span><span class="p">)</span><span class="si">}</span><span class="s"> flower positions recorded."</span><span class="p">)</span>
  
    <span class="c1">## Now animate flowers growing
</span>    <span class="n">animate_flower_growth</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">tree_pen</span><span class="p">,</span> <span class="n">flower_positions</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">animate_flower_growth</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">tree_pen</span><span class="p">,</span> <span class="n">flower_positions</span><span class="p">):</span>
    <span class="s">"""Animate flowers growing on the tree"""</span>
  
    <span class="c1">## Create a separate pen for flowers
</span>    <span class="n">flower_pen</span> <span class="o">=</span> <span class="n">turtle</span><span class="p">.</span><span class="n">Turtle</span><span class="p">()</span>
    <span class="n">flower_pen</span><span class="p">.</span><span class="n">hideturtle</span><span class="p">()</span>
    <span class="n">flower_pen</span><span class="p">.</span><span class="n">speed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">flower_pen</span><span class="p">.</span><span class="n">penup</span><span class="p">()</span>
  
    <span class="k">print</span><span class="p">(</span><span class="s">"Flowers growing..."</span><span class="p">)</span>
  
    <span class="c1">## Grow flowers gradually
</span>    <span class="n">growth_stages</span> <span class="o">=</span> <span class="mi">20</span>  <span class="c1"># Number of growth stages
</span>    <span class="n">breeze_phase</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">breeze_strength</span> <span class="o">=</span> <span class="mf">0.8</span>
    <span class="n">breeze_frequency</span> <span class="o">=</span> <span class="mf">0.08</span>
  
    <span class="k">for</span> <span class="n">stage</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">growth_stages</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">flower_pen</span><span class="p">.</span><span class="n">clear</span><span class="p">()</span>
      
        <span class="c1">## Calculate breeze effect for subtle movement
</span>        <span class="n">breeze_phase</span> <span class="o">+=</span> <span class="n">breeze_frequency</span>
        <span class="n">current_breeze</span> <span class="o">=</span> <span class="n">math</span><span class="p">.</span><span class="n">sin</span><span class="p">(</span><span class="n">breeze_phase</span><span class="p">)</span> <span class="o">*</span> <span class="n">breeze_strength</span>
      
        <span class="c1">## Calculate growth factor (0 to 1)
</span>        <span class="n">growth_factor</span> <span class="o">=</span> <span class="n">stage</span> <span class="o">/</span> <span class="n">growth_stages</span>
      
        <span class="c1">## Draw each flower with current growth factor
</span>        <span class="k">for</span> <span class="n">flower</span> <span class="ow">in</span> <span class="n">flower_positions</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">flower</span><span class="p">[</span><span class="s">'grown'</span><span class="p">]:</span>
                <span class="c1">## Slight sway with breeze
</span>                <span class="n">sway_x</span> <span class="o">=</span> <span class="n">current_breeze</span> <span class="o">*</span> <span class="mf">0.1</span> <span class="o">*</span> <span class="n">math</span><span class="p">.</span><span class="n">sin</span><span class="p">(</span><span class="n">stage</span> <span class="o">*</span> <span class="mf">0.5</span> <span class="o">+</span> <span class="n">flower</span><span class="p">[</span><span class="s">'x'</span><span class="p">]</span> <span class="o">*</span> <span class="mf">0.01</span><span class="p">)</span>
              
                <span class="n">draw_flower_at_position</span><span class="p">(</span>
                    <span class="n">flower_pen</span><span class="p">,</span> 
                    <span class="n">flower</span><span class="p">[</span><span class="s">'x'</span><span class="p">]</span> <span class="o">+</span> <span class="n">sway_x</span><span class="p">,</span> 
                    <span class="n">flower</span><span class="p">[</span><span class="s">'y'</span><span class="p">],</span> 
                    <span class="n">flower</span><span class="p">[</span><span class="s">'color'</span><span class="p">],</span> 
                    <span class="n">flower</span><span class="p">[</span><span class="s">'size'</span><span class="p">],</span> 
                    <span class="n">current_breeze</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span>
                    <span class="n">growth_factor</span>
                <span class="p">)</span>
      
        <span class="n">screen</span><span class="p">.</span><span class="n">update</span><span class="p">()</span>
        <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">FPS</span><span class="p">)</span>
  
    <span class="c1">## Mark all flowers as fully grown
</span>    <span class="k">for</span> <span class="n">flower</span> <span class="ow">in</span> <span class="n">flower_positions</span><span class="p">:</span>
        <span class="n">flower</span><span class="p">[</span><span class="s">'grown'</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span>
  
    <span class="k">print</span><span class="p">(</span><span class="s">"All flowers have grown!"</span><span class="p">)</span>
    <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Pause to show fully grown flowers
</span>  
    <span class="c1">## Now start the falling animation
</span>    <span class="n">make_flowers_fall</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">tree_pen</span><span class="p">,</span> <span class="n">flower_pen</span><span class="p">,</span> <span class="n">flower_positions</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">make_flowers_fall</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">tree_pen</span><span class="p">,</span> <span class="n">flower_pen</span><span class="p">,</span> <span class="n">initial_flowers</span><span class="p">):</span>
    <span class="s">"""Animate flowers falling from the tree"""</span>
  
    <span class="c1">## Create a separate pen for falling flowers
</span>    <span class="n">fall_pen</span> <span class="o">=</span> <span class="n">turtle</span><span class="p">.</span><span class="n">Turtle</span><span class="p">()</span>
    <span class="n">fall_pen</span><span class="p">.</span><span class="n">hideturtle</span><span class="p">()</span>
    <span class="n">fall_pen</span><span class="p">.</span><span class="n">speed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">fall_pen</span><span class="p">.</span><span class="n">penup</span><span class="p">()</span>
  
    <span class="c1">## Copy initial flowers for animation
</span>    <span class="n">flowers</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">flower</span> <span class="ow">in</span> <span class="n">initial_flowers</span><span class="p">:</span>
        <span class="n">flowers</span><span class="p">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s">'x'</span><span class="p">:</span> <span class="n">flower</span><span class="p">[</span><span class="s">'x'</span><span class="p">],</span>
            <span class="s">'y'</span><span class="p">:</span> <span class="n">flower</span><span class="p">[</span><span class="s">'y'</span><span class="p">],</span> 
            <span class="s">'color'</span><span class="p">:</span> <span class="n">flower</span><span class="p">[</span><span class="s">'color'</span><span class="p">],</span>
            <span class="s">'size'</span><span class="p">:</span> <span class="n">flower</span><span class="p">[</span><span class="s">'size'</span><span class="p">],</span>
            <span class="s">'attached'</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
            <span class="s">'grown'</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
            <span class="s">'id'</span><span class="p">:</span> <span class="n">flower</span><span class="p">[</span><span class="s">'id'</span><span class="p">]</span>
        <span class="p">})</span>
  
    <span class="c1">## Initialize velocities and rotations
</span>    <span class="n">velocities</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">rotations</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">fallen_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">frame_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">breeze_phase</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">breeze_strength</span> <span class="o">=</span> <span class="mf">0.8</span>
    <span class="n">breeze_frequency</span> <span class="o">=</span> <span class="mf">0.08</span>

    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Flowers starting to fall..."</span><span class="p">)</span>

    <span class="c1">## Store which flowers are currently attached to the tree
</span>    <span class="n">attached_flowers</span> <span class="o">=</span> <span class="p">{</span><span class="n">flower</span><span class="p">[</span><span class="s">'id'</span><span class="p">]:</span> <span class="n">flower</span> <span class="k">for</span> <span class="n">flower</span> <span class="ow">in</span> <span class="n">flowers</span> <span class="k">if</span> <span class="n">flower</span><span class="p">[</span><span class="s">'attached'</span><span class="p">]}</span>
  
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">frame_count</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">fall_pen</span><span class="p">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="n">flower_pen</span><span class="p">.</span><span class="n">clear</span><span class="p">()</span>  <span class="c1"># Clear the flower pen to remove flowers from tree
</span>      
        <span class="c1">## Calculate breeze effect
</span>        <span class="n">breeze_phase</span> <span class="o">+=</span> <span class="n">breeze_frequency</span>
        <span class="n">current_breeze</span> <span class="o">=</span> <span class="n">math</span><span class="p">.</span><span class="n">sin</span><span class="p">(</span><span class="n">breeze_phase</span><span class="p">)</span> <span class="o">*</span> <span class="n">breeze_strength</span>

        <span class="c1">## Check for flowers starting to fall
</span>        <span class="n">flowers_to_detach</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">flower</span> <span class="ow">in</span> <span class="n">flowers</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">flower</span><span class="p">[</span><span class="s">'attached'</span><span class="p">]</span> <span class="ow">and</span> <span class="n">frame_count</span> <span class="o">&gt;</span> <span class="mi">10</span> <span class="ow">and</span> 
                <span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mf">0.03</span> <span class="ow">and</span> <span class="n">frame_count</span> <span class="o">%</span> <span class="mi">4</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
                <span class="n">flowers_to_detach</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">flower</span><span class="p">[</span><span class="s">'id'</span><span class="p">])</span>
      
        <span class="c1">## Detach the flowers
</span>        <span class="k">for</span> <span class="n">flower_id</span> <span class="ow">in</span> <span class="n">flowers_to_detach</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">flower</span> <span class="ow">in</span> <span class="n">flowers</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">flower</span><span class="p">[</span><span class="s">'id'</span><span class="p">]</span> <span class="o">==</span> <span class="n">flower_id</span> <span class="ow">and</span> <span class="n">flower</span><span class="p">[</span><span class="s">'attached'</span><span class="p">]:</span>
                    <span class="n">flower</span><span class="p">[</span><span class="s">'attached'</span><span class="p">]</span> <span class="o">=</span> <span class="bp">False</span>
                    <span class="n">velocities</span><span class="p">[</span><span class="n">flower_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
                        <span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="n">WIND</span> <span class="o">*</span> <span class="mf">0.7</span><span class="p">,</span> <span class="n">WIND</span> <span class="o">*</span> <span class="mf">0.7</span><span class="p">)</span> <span class="o">+</span> <span class="n">current_breeze</span> <span class="o">*</span> <span class="mf">0.4</span><span class="p">,</span>
                        <span class="o">-</span><span class="n">GRAVITY</span> <span class="o">*</span> <span class="n">uniform</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">)</span>
                    <span class="p">]</span>
                    <span class="n">rotations</span><span class="p">[</span><span class="n">flower_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">)</span>
                    <span class="n">fallen_count</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="c1">## Remove from attached flowers
</span>                    <span class="k">if</span> <span class="n">flower_id</span> <span class="ow">in</span> <span class="n">attached_flowers</span><span class="p">:</span>
                        <span class="k">del</span> <span class="n">attached_flowers</span><span class="p">[</span><span class="n">flower_id</span><span class="p">]</span>
                    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"🌸 Flower </span><span class="si">{</span><span class="n">flower_id</span><span class="si">}</span><span class="s"> dropped! </span><span class="si">{</span><span class="n">fallen_count</span><span class="si">}</span><span class="s">/</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">flowers</span><span class="p">)</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>

        <span class="c1">## Draw only the flowers that are still attached to the tree
</span>        <span class="k">for</span> <span class="n">flower</span> <span class="ow">in</span> <span class="n">attached_flowers</span><span class="p">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">flower</span><span class="p">[</span><span class="s">'attached'</span><span class="p">]:</span>
                <span class="c1">## Draw attached flower with slight sway
</span>                <span class="n">sway_x</span> <span class="o">=</span> <span class="n">current_breeze</span> <span class="o">*</span> <span class="mf">0.1</span> <span class="o">*</span> <span class="n">math</span><span class="p">.</span><span class="n">sin</span><span class="p">(</span><span class="n">frame_count</span> <span class="o">*</span> <span class="mf">0.2</span> <span class="o">+</span> <span class="n">flower</span><span class="p">[</span><span class="s">'x'</span><span class="p">]</span> <span class="o">*</span> <span class="mf">0.01</span><span class="p">)</span>
                <span class="n">draw_flower_at_position</span><span class="p">(</span>
                    <span class="n">flower_pen</span><span class="p">,</span> 
                    <span class="n">flower</span><span class="p">[</span><span class="s">'x'</span><span class="p">]</span> <span class="o">+</span> <span class="n">sway_x</span><span class="p">,</span> 
                    <span class="n">flower</span><span class="p">[</span><span class="s">'y'</span><span class="p">],</span> 
                    <span class="n">flower</span><span class="p">[</span><span class="s">'color'</span><span class="p">],</span> 
                    <span class="n">flower</span><span class="p">[</span><span class="s">'size'</span><span class="p">],</span> 
                    <span class="n">current_breeze</span> <span class="o">*</span> <span class="mi">2</span>
                <span class="p">)</span>

        <span class="c1">## Update and draw falling flowers
</span>        <span class="n">all_fallen</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">attached_flowers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">active_falling_flowers</span> <span class="o">=</span> <span class="bp">False</span>
      
        <span class="k">for</span> <span class="n">flower</span> <span class="ow">in</span> <span class="n">flowers</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">flower</span><span class="p">[</span><span class="s">'attached'</span><span class="p">]:</span>
                <span class="c1">## Update falling flower physics
</span>                <span class="n">flower_id</span> <span class="o">=</span> <span class="n">flower</span><span class="p">[</span><span class="s">'id'</span><span class="p">]</span>
                <span class="n">vx</span><span class="p">,</span> <span class="n">vy</span> <span class="o">=</span> <span class="n">velocities</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">flower_id</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
              
                <span class="c1">## Apply physics
</span>                <span class="n">flower</span><span class="p">[</span><span class="s">'x'</span><span class="p">]</span> <span class="o">+=</span> <span class="n">vx</span> <span class="o">+</span> <span class="n">current_breeze</span> <span class="o">*</span> <span class="mf">0.05</span>
                <span class="n">flower</span><span class="p">[</span><span class="s">'y'</span><span class="p">]</span> <span class="o">+=</span> <span class="n">vy</span>
                <span class="n">vy</span> <span class="o">-=</span> <span class="n">GRAVITY</span> <span class="o">*</span> <span class="mf">0.08</span>
                <span class="n">vx</span> <span class="o">+=</span> <span class="n">current_breeze</span> <span class="o">*</span> <span class="mf">0.015</span> <span class="o">+</span> <span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mf">0.008</span><span class="p">,</span> <span class="mf">0.008</span><span class="p">)</span>
                <span class="n">vx</span> <span class="o">*=</span> <span class="mf">0.998</span>
                <span class="n">vy</span> <span class="o">*=</span> <span class="mf">0.998</span>
              
                <span class="c1">## Update rotation
</span>                <span class="k">if</span> <span class="n">flower_id</span> <span class="ow">in</span> <span class="n">rotations</span><span class="p">:</span>
                    <span class="n">rotations</span><span class="p">[</span><span class="n">flower_id</span><span class="p">]</span> <span class="o">+=</span> <span class="n">vx</span> <span class="o">*</span> <span class="mi">3</span>
              
                <span class="c1">## Ground collision
</span>                <span class="n">ground_level</span> <span class="o">=</span> <span class="o">-</span><span class="n">H</span><span class="o">//</span><span class="mi">2</span> <span class="o">+</span> <span class="n">flower</span><span class="p">[</span><span class="s">'size'</span><span class="p">]</span> <span class="o">*</span> <span class="mf">1.4</span> <span class="o">+</span> <span class="mi">20</span>
                <span class="k">if</span> <span class="n">flower</span><span class="p">[</span><span class="s">'y'</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">ground_level</span><span class="p">:</span>
                    <span class="n">flower</span><span class="p">[</span><span class="s">'y'</span><span class="p">]</span> <span class="o">=</span> <span class="n">ground_level</span>
                    <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">vy</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.3</span><span class="p">:</span>
                        <span class="n">vy</span> <span class="o">=</span> <span class="o">-</span><span class="n">vy</span> <span class="o">*</span> <span class="mf">0.2</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">vy</span> <span class="o">=</span> <span class="mi">0</span>
                        <span class="n">vx</span> <span class="o">*=</span> <span class="mf">0.8</span>
              
                <span class="n">velocities</span><span class="p">[</span><span class="n">flower_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">vx</span><span class="p">,</span> <span class="n">vy</span><span class="p">]</span>
                <span class="n">rotation</span> <span class="o">=</span> <span class="n">rotations</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">flower_id</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
              
                <span class="c1">## Draw falling flower
</span>                <span class="n">draw_flower_at_position</span><span class="p">(</span>
                    <span class="n">fall_pen</span><span class="p">,</span> 
                    <span class="n">flower</span><span class="p">[</span><span class="s">'x'</span><span class="p">],</span> 
                    <span class="n">flower</span><span class="p">[</span><span class="s">'y'</span><span class="p">],</span> 
                    <span class="n">flower</span><span class="p">[</span><span class="s">'color'</span><span class="p">],</span> 
                    <span class="n">flower</span><span class="p">[</span><span class="s">'size'</span><span class="p">],</span> 
                    <span class="n">rotation</span>
                <span class="p">)</span>
              
                <span class="k">if</span> <span class="n">vy</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">vx</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">active_falling_flowers</span> <span class="o">=</span> <span class="bp">True</span>

        <span class="n">screen</span><span class="p">.</span><span class="n">update</span><span class="p">()</span>
        <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">FPS</span><span class="p">)</span>
      
        <span class="c1">## End condition: all flowers have fallen and stopped moving
</span>        <span class="k">if</span> <span class="n">all_fallen</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">active_falling_flowers</span> <span class="ow">and</span> <span class="n">frame_count</span> <span class="o">&gt;</span> <span class="mi">60</span><span class="p">:</span>
            <span class="k">break</span>

    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"All </span><span class="si">{</span><span class="n">fallen_count</span><span class="si">}</span><span class="s"> flowers have fallen!"</span><span class="p">)</span>
  
    <span class="c1">## Keep the window open
</span>    <span class="n">screen</span><span class="p">.</span><span class="n">exitonclick</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
    <span class="n">draw_tree_with_flowers</span><span class="p">()</span>
</code></pre></div></div>

<hr />

<h2 id="how-it-works">How It Works</h2>

<ul>
  <li>Tree Generation: Recursive algorithm builds tree structure with random variations</li>
  <li>Flower Placement: Flowers are positioned at branch endpoints during tree drawing</li>
  <li>Growth Animation: Flowers appear gradually over 20 animation frames</li>
  <li>Physics Simulation: Each flower gets velocity and rotation properties</li>
  <li>Natural Falling: Random detachment with gravity, wind, and collision detection</li>
</ul>

<hr />

<h2 id="customization-ideas">Customization Ideas</h2>

<ul>
  <li>Seasonal Colors: Change flower colors for different seasons</li>
  <li>Different Tree Types: Modify branching patterns for various tree species</li>
  <li>Weather Effects: Add rain, snow, or stronger wind</li>
  <li>Interactive Elements: Click to make flowers fall or grow new ones</li>
  <li>Background: Add sky, ground, or other landscape elements</li>
</ul>

<hr />

<h2 id="key-learnings">Key Learnings</h2>

<ul>
  <li>Recursive Algorithms: Perfect for tree-like structures and branching patterns</li>
  <li>Turtle Graphics: Advanced techniques beyond basic shapes</li>
  <li>Animation Principles: Gradual growth, smooth transitions, frame control</li>
  <li>Physics Simulation: Gravity, wind, rotation, and collision detection</li>
  <li>Color Theory: Natural color blending and RGB manipulation</li>
  <li>Data Structures: Using dictionaries to track multiple animated objects</li>
</ul>

<hr />

<p>This project demonstrates that Python’s Turtle graphics can create much more than simple drawings. By combining recursive algorithms, color theory, and physics simulation, you can build beautiful, complex animations that bring digital nature to life. The techniques learned here can be applied to game development, data visualization, or interactive art projects.</p>

<p>Try modifying the parameters to create your own unique animated scenes!</p>

<hr />

<p><strong>Website:</strong> https://www.pyshine.com
<strong>Author:</strong> PyShine</p>


          <!-- Syntax Highlighting -->
          <link href="/assets/css/syntax.css" rel="stylesheet">
          <script src="/assets/scripts/copyCode.js" async></script>

          <!-- Ads -->
          <section aria-label="Advertisements" class="ads mt-4">
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-2976211678184829"
                 data-ad-slot="7658460605"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
              (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
          </section>

        </article>

      </div>

      <!-- Post Navigation -->
      <nav class="post-navigation controls__inner mt-5" aria-label="Post navigation">
        <div class="controls__item prev">
          
            <span>Previous</span>
            <a href="/Matrix-Multiplication-Perfomance-Comparison/" rel="prev">
              Matrix Multiplication Performance Com...
            </a>
          
        </div>

        <div class="controls__item next">
          
            <span>Next</span>
            <a href="/Make-Excel-File-Quickly-in-Python/" rel="next">
              Create Excel Files with Python – Comp...
            </a>
          
        </div>
      </nav>

      <!-- Disqus -->
      
        <section class="comments mt-5" aria-label="Comments Section">
          
<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
this.page.url = 'https://www.pyshine.com/Tree-grow-and-falling-flowers/';
this.page.identifier = 'https://www.pyshine.com/Tree-grow-and-falling-flowers/';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://https-py2ai-github-io.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the comments.</noscript>


        </section>
      

    </main>

    <footer class="footer">
  <div class="container">
    <nav class="social">
      
      
      
    </nav>
    <span>&copy; 2026 PyShine. All rights reserved.</span>
  </div>
</footer>
<script async src="/assets/js/bundle.js"></script>

<script async>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/sw.js').then(function( registration ) {
      console.log('ServiceWorker registration successful with scope: ', registration.scope);
    })
    .catch(function(error) {
      console.log('ServiceWorker registration failed: ', error);
    });
  }
</script>



    <!-- MathJax -->
    


    <!-- Ads -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

    <!-- SIDEBAR TOC SCRIPT -->
    <script>
    document.addEventListener("DOMContentLoaded", function() {
      const toc = document.getElementById("toc-list");
      const headings = document.querySelectorAll(
        ".post-content h2:not(.no-toc), .post-content h3:not(.no-toc)"
      );
      if (!toc || headings.length === 0) return;

      const ul = document.createElement("ul");
      headings.forEach(h => {
        const id = h.id || h.textContent.trim().toLowerCase().replace(/\s+/g, "-");
        h.id = id;

        const li = document.createElement("li");
        if (h.tagName === "H3") li.style.marginLeft = "1rem";

        li.innerHTML = `<a href="#${id}">${h.textContent}</a>`;
        ul.appendChild(li);
      });
      toc.appendChild(ul);
    });
    </script>

    <!-- INLINE TOC SCRIPT -->
    <script>
    document.addEventListener("DOMContentLoaded", function() {
      const tocTarget = document.getElementById("inline-toc-list");
      const headings = document.querySelectorAll(
        ".post-content h2:not(.no-toc), .post-content h3:not(.no-toc)"
      );
      if (!tocTarget || headings.length === 0) return;

      const ul = document.createElement("ul");
      headings.forEach(h => {
        const id = h.id || h.textContent.trim().toLowerCase().replace(/\s+/g, "-");
        h.id = id;

        const li = document.createElement("li");
        if (h.tagName === "H3") li.style.marginLeft = "1rem";

        li.innerHTML = `<a href="#${id}">${h.textContent}</a>`;
        ul.appendChild(li);
      });
      tocTarget.appendChild(ul);
    });
    </script>

    <!-- INLINE TOC STYLES -->
    <style>
      .inline-toc-box {
        background: #D4EDFD;
        padding: 15px 20px;
        border-radius: 10px;
        margin-bottom: 25px;
        border: 1px solid #e0e0e0;
      }
      .inline-toc-box ul {
        margin: 0;
        padding-left: 18px;
      }
      .inline-toc-box li {
        margin-bottom: 6px;
      }
    </style>

  </body>
</html>


