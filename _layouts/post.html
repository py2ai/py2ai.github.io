---
layout: compress
---
<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: 'en-US' }}" itemscope itemtype="https://schema.org/Article">

  {% include head.html %}

  <body class="site" itemscope itemtype="https://schema.org/WebPage">

    {% if site.google_tag_manager %}
      <!-- Google Tag Manager (noscript) -->
      <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id={{ site.google_tag_manager }}"
                height="0" width="0" style="display:none;visibility:hidden"></iframe>
      </noscript>
      <!-- End Google Tag Manager -->
    {% endif %}

    {% include header.html %}

    {% if page.featured-img %}
      <div class="hero lazyload"
           data-bg="{{ site.url }}{{ site.baseurl }}/assets/img/posts/{{ page.featured-img }}.jpg"
           role="img"
           aria-label="{{ page.title }}">
    {% else %}
      <div class="hero dark-bg" role="img" aria-label="{{ page.title }}">
    {% endif %}
        <div class="hero__wrap">
          {% if page.categories %}
            <div class="hero__categories">
              {% for category in page.categories %}
                <a class="label"
                   href="{{ site.baseurl }}/categories/#{{ category | slugize }}"
                   aria-label="Category: {{ category }}">
                   {{ category }}
                </a>
                {% unless forloop.last %}&nbsp;{% endunless %}
              {% endfor %}
            </div>
          {% endif %}

          <h1 class="hero__title" itemprop="headline">{{ page.title }}</h1>

          <p class="hero__meta">
            <time datetime="{{ page.date | date_to_xmlschema }}" itemprop="datePublished">
              {{ page.date | date_to_string }}
            </time>
            &nbsp;Â·&nbsp;
            {% assign words = content | number_of_words %}
            <span itemprop="timeRequired">
              {% if words < 360 %}
                1 min read
              {% else %}
                {{ words | divided_by:180 }} mins read
              {% endif %}
            </span>
          </p>
        </div>
      </div>

    <main class="site__content" role="main">
      <div class="container post-layout">

        <!-- Table of Contents Sidebar -->
        <aside class="post-toc" id="post-toc">
          <h3>Contents</h3>
          <nav id="toc-list"></nav>
        </aside>

        <!-- Main Post Content -->
        <article class="post-content"
                 itemprop="articleBody"
                 itemscope itemtype="https://schema.org/Article">
          
          {{ content }}

          <!-- Inline code styling -->
          <link href="/assets/css/syntax.css" rel="stylesheet">
          <script src="/assets/scripts/copyCode.js" async></script>

          <!-- Google Ad (responsive rectangle after content) -->
          <section aria-label="Advertisements" class="ads mt-4">
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-2976211678184829"
                 data-ad-slot="7658460605"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
              (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
          </section>

        </article>

      </div>

      <!-- Post Navigation -->
      <nav class="post-navigation controls__inner mt-5" aria-label="Post navigation">
        <div class="controls__item prev">
          {% if page.previous.url %}
            <span>Previous</span>
            <a href="{{ page.previous.url | relative_url }}" rel="prev">
              {{ page.previous.title | strip_html | truncate: 40 }}
            </a>
          {% endif %}
        </div>

        <div class="controls__item next">
          {% if page.next.url %}
            <span>Next</span>
            <a href="{{ page.next.url | relative_url }}" rel="next">
              {{ page.next.title | strip_html | truncate: 40 }}
            </a>
          {% endif %}
        </div>
      </nav>

      <!-- Comments Section -->
      {% if site.disqus.shortname %}
        <section class="comments mt-5" aria-label="Comments Section">
          {% include disqus.html %}
        </section>
      {% endif %}

    </main>

    {% include footer.html %}

    <!-- Scripts at bottom for performance -->
    {% include mathjax.html %}

    <!-- Async Ads script globally -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

    <!-- TOC Auto Generator -->
    <script>
    document.addEventListener("DOMContentLoaded", function() {
      const toc = document.getElementById("toc-list");
      const headings = document.querySelectorAll(".post-content h2, .post-content h3");
      if (!toc || headings.length === 0) return;

      const ul = document.createElement("ul");
      headings.forEach(h => {
        const id = h.id || h.textContent.trim().toLowerCase().replace(/\s+/g, "-");
        h.id = id;
        const li = document.createElement("li");
        if (h.tagName === "H3") li.style.marginLeft = "1rem";
        li.innerHTML = `<a href="#${id}">${h.textContent}</a>`;
        ul.appendChild(li);
      });
      toc.appendChild(ul);
    });
    </script>

  </body>
</html>
