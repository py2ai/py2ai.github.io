---
layout: compress
---
<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: 'en-US' }}" itemscope itemtype="https://schema.org/Article">

  {% include head.html %}

  <body class="site" itemscope itemtype="https://schema.org/WebPage">

    {% if site.google_tag_manager %}
      <!-- Google Tag Manager (noscript) -->
      <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id={{ site.google_tag_manager }}"
                height="0" width="0" style="display:none;visibility:hidden"></iframe>
      </noscript>
      <!-- End Google Tag Manager -->
    {% endif %}

    {% include header.html %}

    {% if page.featured-img %}
      <div class="hero lazyload"
           data-bg="{{ site.url }}{{ site.baseurl }}/assets/img/posts/{{ page.featured-img }}.jpg"
           role="img"
           aria-label="{{ page.title }}">
    {% else %}
      <div class="hero dark-bg" role="img" aria-label="{{ page.title }}">
    {% endif %}
        <div class="hero__wrap">

          {% if page.categories %}
            <div class="hero__categories">
              {% for category in page.categories %}
                <a class="label"
                   href="{{ site.baseurl }}/categories/#{{ category | slugize }}"
                   aria-label="Category: {{ category }}">
                   {{ category }}
                </a>
                {% unless forloop.last %}&nbsp;{% endunless %}
              {% endfor %}
            </div>
          {% endif %}

          <h1 class="hero__title" itemprop="headline">{{ page.title }}</h1>

          <p class="hero__meta">
            <time datetime="{{ page.date | date_to_xmlschema }}" itemprop="datePublished">
              {{ page.date | date_to_string }}
            </time>
            &nbsp;·&nbsp;
            {% assign words = content | number_of_words %}
            <span itemprop="timeRequired">
              {% if words < 360 %}
                1 min read
              {% else %}
                {{ words | divided_by:180 }} mins read
              {% endif %}
            </span>
          </p>
        </div>
      </div>

    <main class="site__content" role="main">

      <!-- ✅ START: YouTube Video Section -->
      <section id="youtube-video" style="text-align:center; padding:5px 5px; background:#f8f8f8;">
        <div class="container">
          <div style="margin-top:25px;">
            <a href="https://www.youtube.com/@pyshine_official/shorts"
              target="_blank"
              style="background:#ff0000; color:white; padding:12px 24px; border-radius:6px; text-decoration:none; font-weight:bold; display:inline-flex; align-items:center; gap:8px;">
              <svg xmlns="http://www.w3.org/2000/svg" width="22" height="16" viewBox="0 0 24 24">
                <path fill="#FFF" d="M23.5 6.2a3 3 0 0 0-2.1-2.1C19.5 3.5 12 3.5 12 3.5s-7.5 0-9.4.6A3 3 0 0 0 .5 6.2 31.5 31.5 0 0 0 0 12a31.5 31.5 0 0 0 .5 5.8 3 3 0 0 0 2.1 2.1c1.9.6 9.4.6 9.4.6s7.5 0 9.4-.6a3 3 0 0 0 2.1-2.1A31.5 31.5 0 0 0 24 12a31.5 31.5 0 0 0-.5-5.8z"/>
                <path fill="#FF0000" d="M9.75 15.02v-6l6 3z"/>
              </svg>
              Watch PyShine on YouTube
            </a>
          </div>
        </div>
      </section>

      <!-- ✅ END: YouTube Video Section -->

      <div class="container post-layout">

        <!-- SIDEBAR TOC -->
        <aside class="post-toc" id="post-toc">
          <h3 class="no-toc">Contents</h3>
          <nav id="toc-list"></nav>
        </aside>

        <!-- MAIN CONTENT -->
        <article class="post-content"
                 itemprop="articleBody"
                 itemscope itemtype="https://schema.org/Article">

          <!-- INLINE TOC -->
          <div id="inline-toc" class="inline-toc-box">
            <h3 class="no-toc">Contents</h3>
            <nav id="inline-toc-list"></nav>
          </div>

          {{ content }}

          <!-- Syntax Highlighting -->
          <link href="/assets/css/syntax.css" rel="stylesheet">
          <script src="/assets/scripts/copyCode.js" async></script>

          <!-- Ads -->
          <section aria-label="Advertisements" class="ads mt-4">
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-2976211678184829"
                 data-ad-slot="7658460605"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
              (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
          </section>

        </article>

      </div>

      <!-- Post Navigation -->
      <nav class="post-navigation controls__inner mt-5" aria-label="Post navigation">
        <div class="controls__item prev">
          {% if page.previous.url %}
            <span>Previous</span>
            <a href="{{ page.previous.url | relative_url }}" rel="prev">
              {{ page.previous.title | strip_html | truncate: 40 }}
            </a>
          {% endif %}
        </div>

        <div class="controls__item next">
          {% if page.next.url %}
            <span>Next</span>
            <a href="{{ page.next.url | relative_url }}" rel="next">
              {{ page.next.title | strip_html | truncate: 40 }}
            </a>
          {% endif %}
        </div>
      </nav>

      <!-- Related Posts -->
      {% assign max_related = 6 %}
      {% assign min_common = 1 %}
      {% assign related_posts = '' | split: '' %}
      
      {% for post in site.posts %}
        {% if post.url != page.url %}
          {% assign common_tags = 0 %}
          {% assign common_categories = 0 %}
          
          {% for tag in post.tags %}
            {% if page.tags contains tag %}
              {% assign common_tags = common_tags | plus: 1 %}
            {% endif %}
          {% endfor %}
          
          {% for category in post.categories %}
            {% if page.categories contains category %}
              {% assign common_categories = common_categories | plus: 1 %}
            {% endif %}
          {% endfor %}
          
          {% assign common_total = common_tags | plus: common_categories %}
          
          {% if common_total >= min_common %}
            {% assign related_posts = related_posts | push: post %}
          {% endif %}
        {% endif %}
      {% endfor %}
      
      {% assign related_count = related_posts | size %}
      {% if related_count > max_related %}
        {% assign related_posts = related_posts | sample: max_related %}
      {% endif %}
      
      {% if related_count > 0 %}
        <section class="related-posts mt-5" aria-label="Related Posts">
          <div class="container">
            <h2 class="related-posts__title">Related Posts</h2>
            <div class="related-posts__grid">
              {% for post in related_posts limit: max_related %}
                <a class="related-post-card" href="{{ post.url | relative_url }}">
                  {% if post.featured-img %}
                    <div class="related-post-card__image">
                      <img src="https://www.pyshine.com/assets/img/posts/{{post.featured-img}}_thumb.jpg" 
                           alt="{{ post.title }}"
                           loading="lazy" />
                    </div>
                  {% else %}
                    <div class="related-post-card__image dark-bg"></div>
                  {% endif %}
                  <div class="related-post-card__content">
                    <h3 class="related-post-card__title">{{ post.title | strip_html | truncate: 60 }}</h3>
                    <p class="related-post-card__excerpt">
                      {% if post.summary %}
                        {{ post.summary | strip_html | truncatewords: 15 }}
                      {% else %}
                        {{ post.content | strip_html | truncatewords: 15 }}
                      {% endif %}
                    </p>
                    <span class="related-post-card__date">
                      {{ post.date | date: "%b %d, %Y" }}
                    </span>
                  </div>
                </a>
              {% endfor %}
            </div>
          </div>
        </section>
      {% endif %}

      <!-- Disqus -->
      {% if site.disqus.shortname %}
        <section class="comments mt-5" aria-label="Comments Section">
          {% include disqus.html %}
        </section>
      {% endif %}

    </main>

    {% include footer.html %}

    <!-- Back to Top Button -->
    <button id="back-to-top" class="back-to-top" aria-label="Back to top">
      <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="18 15 12 9 6 15"></polyline>
      </svg>
    </button>

    <!-- MathJax -->
    {% include mathjax.html %}

    <!-- Ads -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

    <!-- SIDEBAR TOC SCRIPT -->
    <script>
    document.addEventListener("DOMContentLoaded", function() {
      const toc = document.getElementById("toc-list");
      const headings = document.querySelectorAll(
        ".post-content h2:not(.no-toc), .post-content h3:not(.no-toc)"
      );
      if (!toc || headings.length === 0) return;

      const ul = document.createElement("ul");
      headings.forEach(h => {
        const id = h.id || h.textContent.trim().toLowerCase().replace(/\s+/g, "-");
        h.id = id;

        const li = document.createElement("li");
        if (h.tagName === "H3") li.style.marginLeft = "1rem";

        li.innerHTML = `<a href="#${id}">${h.textContent}</a>`;
        ul.appendChild(li);
      });
      toc.appendChild(ul);
    });
    </script>

    <!-- INLINE TOC SCRIPT -->
    <script>
    document.addEventListener("DOMContentLoaded", function() {
      const tocTarget = document.getElementById("inline-toc-list");
      const headings = document.querySelectorAll(
        ".post-content h2:not(.no-toc), .post-content h3:not(.no-toc)"
      );
      if (!tocTarget || headings.length === 0) return;

      const ul = document.createElement("ul");
      headings.forEach(h => {
        const id = h.id || h.textContent.trim().toLowerCase().replace(/\s+/g, "-");
        h.id = id;

        const li = document.createElement("li");
        if (h.tagName === "H3") li.style.marginLeft = "1rem";

        li.innerHTML = `<a href="#${id}">${h.textContent}</a>`;
        ul.appendChild(li);
      });
      tocTarget.appendChild(ul);
    });
    </script>

    <!-- Back to Top Button Script -->
    <script>
    document.addEventListener("DOMContentLoaded", function() {
      const backToTopButton = document.getElementById("back-to-top");
      if (!backToTopButton) return;

      // Show button when scrolled down 300px
      window.addEventListener("scroll", function() {
        if (window.pageYOffset > 300) {
          backToTopButton.classList.add("visible");
        } else {
          backToTopButton.classList.remove("visible");
        }
      });

      // Smooth scroll to top when clicked
      backToTopButton.addEventListener("click", function() {
        window.scrollTo({
          top: 0,
          behavior: "smooth"
        });
      });
    });
    </script>

    <!-- INLINE TOC STYLES -->
    <style>
      .inline-toc-box {
        background: #D4EDFD;
        padding: 15px 20px;
        border-radius: 10px;
        margin-bottom: 25px;
        border: 1px solid #e0e0e0;
      }
      .inline-toc-box ul {
        margin: 0;
        padding-left: 18px;
      }
      .inline-toc-box li {
        margin-bottom: 6px;
      }
      /* Center post navigation */
      .post-navigation.controls__inner {
        justify-content: center !important;
        gap: 4rem;
      }
      /* Related Posts Styles */
      .related-posts {
        margin-top: 3rem;
        padding: 2rem 0;
        border-top: 1px solid #e0e0e0;
      }
      .related-posts .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
      }
      .related-posts__title {
        font-size: 1.75rem;
        margin-bottom: 1.5rem;
        color: #000000;
        text-align: center;
      }
      .related-posts__grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 1.5rem;
        max-width: 1200px;
        margin: 0 auto;
      }
      .related-post-card {
        display: block;
        text-decoration: none;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        overflow: hidden;
        transition: box-shadow 0.3s ease, transform 0.3s ease;
      }
      .related-post-card:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        transform: translateY(-4px);
      }
      .related-post-card__image {
        width: 100%;
        height: 100px;
        background: #f5f5f5;
      }
      .related-post-card__image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
      .related-post-card__content {
        padding: 0.75rem;
      }
      .related-post-card__title {
        font-size: 0.95rem;
        margin: 0 0 0.4rem 0;
        color: #000000;
        line-height: 1.3;
        font-weight: 600;
      }
      .related-post-card__excerpt {
        font-size: 0.8rem;
        color: #666;
        margin: 0 0 0.5rem 0;
        line-height: 1.4;
      }
      .related-post-card__date {
        font-size: 0.75rem;
        color: #999;
      }
      @media (max-width: 992px) {
        .related-posts__grid {
          grid-template-columns: repeat(2, 1fr);
        }
      }
      @media (max-width: 600px) {
        .related-posts__grid {
          grid-template-columns: 1fr;
        }
      }
      /* Back to Top Button Styles */
      .back-to-top {
        position: fixed;
        bottom: 30px;
        right: 30px;
        width: 50px;
        height: 50px;
        background: #000000;
        color: #ffffff;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        opacity: 0;
        visibility: hidden;
        transform: translateY(20px);
        transition: all 0.3s ease;
        z-index: 9999;
      }
      .back-to-top.visible {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
      }
      .back-to-top:hover {
        background: #333333;
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);
        transform: translateY(-2px);
      }
      .back-to-top:active {
        transform: translateY(0);
      }
      @media (max-width: 768px) {
        .back-to-top {
          bottom: 20px;
          right: 20px;
          width: 45px;
          height: 45px;
        }
      }
    </style>

  </body>
</html>
